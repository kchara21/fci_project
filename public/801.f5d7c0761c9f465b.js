"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[801],{801:(ut,Z,h)=>{h.r(Z),h.d(Z,{AdminModule:()=>Cl});var w=h(9808),T=h(1083),l=h(5e3),M=h(7890),O=h(8279),L=h(4847),F=h(5226),o=h.n(F),x=h(3075),a=h(8966),Q=h(7322),d=h(7531),$=h(7423);let G=(()=>{class e{constructor(t,i){this.fb=t,this.dialogRef=i,this.censusDate=this.fb.group({horasEncendido:["",x.kI.required],minutosEncendido:["",x.kI.required],horasFrecuencia:["",x.kI.required],minutosFrecuencia:["",x.kI.required]})}ngOnInit(){}onSave(){this.dialogRef.close(this.censusDate.value)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(x.qu),l.Y36(a.so))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-modal-time-census"]],decls:30,vars:7,consts:[[1,"modal-form"],[1,"exampleForm",3,"formGroup"],["appearance","fill","required","",1,"full-width-input"],["formControlName","horasEncendido","type","number","min","0","matInput",""],["formControlName","minutosEncendido","min","0","type","number","matInput",""],["formControlName","horasFrecuencia","min","0","type","number","matInput",""],["formControlName","minutosFrecuencia","min","0.05","type","number","matInput",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"disabled","mat-dialog-close","click"]],template:function(t,i){1&t&&(l.TgZ(0,"mat-dialog-content")(1,"div",0)(2,"form",1)(3,"div")(4,"p"),l._uU(5),l.qZA(),l.TgZ(6,"mat-form-field",2)(7,"mat-label"),l._uU(8,"Horas"),l.qZA(),l._UZ(9,"input",3),l.qZA(),l.TgZ(10,"mat-form-field",2)(11,"mat-label"),l._uU(12,"Minutos"),l.qZA(),l._UZ(13,"input",4),l.qZA()(),l.TgZ(14,"div")(15,"p"),l._uU(16),l.qZA(),l.TgZ(17,"mat-form-field",2)(18,"mat-label"),l._uU(19,"Horas"),l.qZA(),l._UZ(20,"input",5),l.qZA(),l.TgZ(21,"mat-form-field",2)(22,"mat-label"),l._uU(23,"Minutos"),l.qZA(),l._UZ(24,"input",6),l.qZA()()()()(),l.TgZ(25,"mat-dialog-actions",7)(26,"button",8),l._uU(27,"Cancelar "),l.qZA(),l.TgZ(28,"button",9),l.NdJ("click",function(){return i.onSave()}),l._uU(29," Censar "),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("formGroup",i.censusDate),l.xp6(3),l.AsE("TIEMPO ENCENDIDO: ",60*i.censusDate.value.horasEncendido,"min. con ",60*i.censusDate.value.minutosEncendido,"seg."),l.xp6(11),l.AsE("FRECUENCIA: Cada ",60*i.censusDate.value.horasFrecuencia,"min. con ",60*i.censusDate.value.minutosFrecuencia,"seg. "),l.xp6(12),l.Q6J("disabled",i.censusDate.invalid)("mat-dialog-close",!0))},directives:[a.xY,x._Y,x.JL,x.sg,Q.KE,Q.hX,x.Fj,x.wV,x.qQ,d.Nt,x.JJ,x.u,a.H8,$.lW,a.ZT],styles:[".modal-form[_ngcontent-%COMP%]{padding:1rem 0}.full-width-input[_ngcontent-%COMP%]{width:40%;margin:15px}.full-width-Freq[_ngcontent-%COMP%]{width:20%;margin:10px}.p[_ngcontent-%COMP%]{text-align:center}"]}),e})();var _=h(5081),et=h(829),N=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),q_textSize=function(e,n,t){var m,i=[].concat(n),s=i.length,r=e.font,u=0;for(e.font=t.string,m=0;m<s;++m)u=Math.max(e.measureText(i[m]).width,u);return e.font=r,{height:s*t.lineHeight,width:u}};function z(e,n){var t=n.x,i=n.y;if(null===t)return{x:0,y:-1};if(null===i)return{x:1,y:0};var s=e.x-t,r=e.y-i,u=Math.sqrt(s*s+r*r);return{x:u?s/u:0,y:u?r/u:-1}}function P(e,n,t){var i=0;return e<t.left?i|=1:e>t.right&&(i|=2),n<t.top?i|=8:n>t.bottom&&(i|=4),i}function it(e,n){var s,r,t=n.anchor,i=e;return n.clamp&&(i=function xt(e,n){for(var A,C,D,t=e.x0,i=e.y0,s=e.x1,r=e.y1,u=P(t,i,n),m=P(s,r,n);u|m&&!(u&m);)8&(A=u||m)?(C=t+(s-t)*(n.top-i)/(r-i),D=n.top):4&A?(C=t+(s-t)*(n.bottom-i)/(r-i),D=n.bottom):2&A?(D=i+(r-i)*(n.right-t)/(s-t),C=n.right):1&A&&(D=i+(r-i)*(n.left-t)/(s-t),C=n.left),A===u?u=P(t=C,i=D,n):m=P(s=C,r=D,n);return{x0:t,x1:s,y0:i,y1:r}}(i,n.area)),"start"===t?(s=i.x0,r=i.y0):"end"===t?(s=i.x1,r=i.y1):(s=(i.x0+i.x1)/2,r=(i.y0+i.y1)/2),function lt(e,n,t,i,s){switch(s){case"center":t=i=0;break;case"bottom":t=0,i=1;break;case"right":t=1,i=0;break;case"left":t=-1,i=0;break;case"top":t=0,i=-1;break;case"start":t=-t,i=-i;break;case"end":break;default:s*=Math.PI/180,t=Math.cos(s),i=Math.sin(s)}return{x:e,y:n,vx:t,vy:i}}(s,r,e.vx,e.vy,n.align)}var nt={arc:function(e,n){var t=(e.startAngle+e.endAngle)/2,i=Math.cos(t),s=Math.sin(t),r=e.innerRadius,u=e.outerRadius;return it({x0:e.x+i*r,y0:e.y+s*r,x1:e.x+i*u,y1:e.y+s*u,vx:i,vy:s},n)},point:function(e,n){var t=z(e,n.origin),i=t.x*e.options.radius,s=t.y*e.options.radius;return it({x0:e.x-i,y0:e.y-s,x1:e.x+i,y1:e.y+s,vx:t.x,vy:t.y},n)},bar:function(e,n){var t=z(e,n.origin),i=e.x,s=e.y,r=0,u=0;return e.horizontal?(i=Math.min(e.x,e.base),r=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),u=Math.abs(e.base-e.y)),it({x0:i,y0:s+u,x1:i+r,y1:s,vx:t.x,vy:t.y},n)},fallback:function(e,n){var t=z(e,n.origin);return it({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:t.x,vy:t.y},n)}},j=function(e){return Math.round(e*N)/N};function vt(e,n){var t=n.chart.getDatasetMeta(n.datasetIndex).vScale;if(!t)return null;if(void 0!==t.xCenter&&void 0!==t.yCenter)return{x:t.xCenter,y:t.yCenter};var i=t.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function At(e){return e instanceof et.qi?nt.arc:e instanceof et.od?nt.point:e instanceof et.ZL?nt.bar:nt.fallback}function wt(e,n,t){var i=e.shadowBlur,s=t.stroked,r=j(t.x),u=j(t.y),m=j(t.w);s&&e.strokeText(n,r,u,m),t.filled&&(i&&s&&(e.shadowBlur=0),e.fillText(n,r,u,m),i&&s&&(e.shadowBlur=i))}var ht=function(e,n,t,i){var s=this;s._config=e,s._index=i,s._model=null,s._rects=null,s._ctx=n,s._el=t};(0,_.a2)(ht.prototype,{_modelize:function(e,n,t,i){var s=this,r=s._index,u=(0,_.Z)((0,_.a)([t.font,{}],i,r)),m=(0,_.a)([t.color,et.ce.color],i,r);return{align:(0,_.a)([t.align,"center"],i,r),anchor:(0,_.a)([t.anchor,"center"],i,r),area:i.chart.chartArea,backgroundColor:(0,_.a)([t.backgroundColor,null],i,r),borderColor:(0,_.a)([t.borderColor,null],i,r),borderRadius:(0,_.a)([t.borderRadius,0],i,r),borderWidth:(0,_.a)([t.borderWidth,0],i,r),clamp:(0,_.a)([t.clamp,!1],i,r),clip:(0,_.a)([t.clip,!1],i,r),color:m,display:e,font:u,lines:n,offset:(0,_.a)([t.offset,0],i,r),opacity:(0,_.a)([t.opacity,1],i,r),origin:vt(s._el,i),padding:(0,_.C)((0,_.a)([t.padding,0],i,r)),positioner:At(s._el),rotation:(0,_.a)([t.rotation,0],i,r)*(Math.PI/180),size:q_textSize(s._ctx,n,u),textAlign:(0,_.a)([t.textAlign,"start"],i,r),textShadowBlur:(0,_.a)([t.textShadowBlur,0],i,r),textShadowColor:(0,_.a)([t.textShadowColor,m],i,r),textStrokeColor:(0,_.a)([t.textStrokeColor,m],i,r),textStrokeWidth:(0,_.a)([t.textStrokeWidth,0],i,r)}},update:function(e){var u,m,A,n=this,t=null,i=null,s=n._index,r=n._config,C=(0,_.a)([r.display,!0],e,s);C&&(m=(0,_.v)((0,_.O)(r.formatter,[u=e.dataset.data[s],e]),u),(A=(0,_.k)(m)?[]:function(e){var t,n=[];for(e=[].concat(e);e.length;)"string"==typeof(t=e.pop())?n.unshift.apply(n,t.split("\n")):Array.isArray(t)?e.push.apply(e,t):(0,_.k)(e)||n.unshift(""+t);return n}(m)).length&&(i=function yt(e){var n=e.borderWidth||0,t=e.padding,i=e.size.height,s=e.size.width,r=-s/2,u=-i/2;return{frame:{x:r-t.left-n,y:u-t.top-n,w:s+t.width+2*n,h:i+t.height+2*n},text:{x:r,y:u,w:s,h:i}}}(t=n._modelize(C,A,r,e)))),n._model=t,n._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,n){var u,i=e.ctx,s=this._model,r=this._rects;!this.visible()||(i.save(),s.clip&&(u=s.area,i.beginPath(),i.rect(u.left,u.top,u.right-u.left,u.bottom-u.top),i.clip()),i.globalAlpha=function(e,n,t){return Math.max(e,Math.min(n,t))}(0,s.opacity,1),i.translate(j(n.x),j(n.y)),i.rotate(s.rotation),function _t(e,n,t){var i=t.backgroundColor,s=t.borderColor,r=t.borderWidth;!i&&(!s||!r)||(e.beginPath(),function Ct(e,n,t,i,s,r){var u=Math.PI/2;if(r){var m=Math.min(r,s/2,i/2),A=n+m,C=t+m,D=n+i-m,S=t+s-m;e.moveTo(n,C),A<D&&C<S?(e.arc(A,C,m,-Math.PI,-u),e.arc(D,C,m,-u,0),e.arc(D,S,m,0,u),e.arc(A,S,m,u,Math.PI)):A<D?(e.moveTo(A,t),e.arc(D,C,m,-u,u),e.arc(A,C,m,u,Math.PI+u)):C<S?(e.arc(A,C,m,-Math.PI,0),e.arc(A,S,m,0,Math.PI)):e.arc(A,C,m,-Math.PI,Math.PI),e.closePath(),e.moveTo(n,t)}else e.rect(n,t,i,s)}(e,j(n.x)+r/2,j(n.y)+r/2,j(n.w)-r,j(n.h)-r,t.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),s&&r&&(e.strokeStyle=s,e.lineWidth=r,e.lineJoin="miter",e.stroke()))}(i,r.frame,s),function Ft(e,n,t,i){var V,s=i.textAlign,r=i.color,u=!!r,m=i.font,A=n.length,C=i.textStrokeColor,D=i.textStrokeWidth,S=C&&D;if(A&&(u||S))for(t=function bt(e,n,t){var i=t.lineHeight,s=e.w,r=e.x;return"center"===n?r+=s/2:("end"===n||"right"===n)&&(r+=s),{h:i,w:s,x:r,y:e.y+i/2}}(t,s,m),e.font=m.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,u&&(e.fillStyle=r),S&&(e.lineJoin="round",e.lineWidth=D,e.strokeStyle=C),V=0,A=n.length;V<A;++V)wt(e,n[V],{stroked:S,filled:u,w:t.w,x:t.x,y:t.y+t.h*V})}(i,s.lines,r.text,s),i.restore())}});var Dt=Number.MIN_SAFE_INTEGER||-9007199254740991,Mt=Number.MAX_SAFE_INTEGER||9007199254740991;function X(e,n,t){var i=Math.cos(t),s=Math.sin(t),r=n.x,u=n.y;return{x:r+i*(e.x-r)-s*(e.y-u),y:u+s*(e.x-r)+i*(e.y-u)}}function St(e,n){var r,u,C,t=Mt,i=Dt,s=n.origin;for(r=0;r<e.length;++r)C=n.vx*((u=e[r]).x-s.x)+n.vy*(u.y-s.y),t=Math.min(t,C),i=Math.max(i,C);return{min:t,max:i}}function st(e,n){var t=n.x-e.x,i=n.y-e.y,s=Math.sqrt(t*t+i*i);return{vx:(n.x-e.x)/s,vy:(n.y-e.y)/s,origin:e,ln:s}}var Et=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function Tt(e,n,t){var i=n.positioner(e,n),s=i.vx,r=i.vy;if(!s&&!r)return{x:i.x,y:i.y};var u=t.w,m=t.h,A=n.rotation,C=Math.abs(u/2*Math.cos(A))+Math.abs(m/2*Math.sin(A)),D=Math.abs(u/2*Math.sin(A))+Math.abs(m/2*Math.cos(A)),S=1/Math.max(Math.abs(s),Math.abs(r));return C*=s*S,D*=r*S,{x:i.x+(C+=n.offset*s),y:i.y+(D+=n.offset*r)}}(0,_.a2)(Et.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,n,t){this._rotation=t,this._rect={x:n.x+e.x,y:n.y+e.y,w:n.w,h:n.h}},contains:function(e){var n=this,i=n._rect;return!((e=X(e,n.center(),-n._rotation)).x<i.x-1||e.y<i.y-1||e.x>i.x+i.w+2||e.y>i.y+i.h+2)},intersects:function(e){var s,r,u,n=this._points(),t=e._points(),i=[st(n[0],n[1]),st(n[0],n[3])];for(this._rotation!==e._rotation&&i.push(st(t[0],t[1]),st(t[0],t[3])),s=0;s<i.length;++s)if(r=St(n,i[s]),u=St(t,i[s]),r.max<u.min||u.max<r.min)return!1;return!0},_points:function(){var e=this,n=e._rect,t=e._rotation,i=e.center();return[X({x:n.x,y:n.y},i,t),X({x:n.x+n.w,y:n.y},i,t),X({x:n.x+n.w,y:n.y+n.h},i,t),X({x:n.x,y:n.y+n.h},i,t)]}});var v={prepare:function(e){var t,i,s,r,u,n=[];for(t=0,s=e.length;t<s;++t)for(i=0,r=e[t].length;i<r;++i)n.push(u=e[t][i]),u.$layout={_box:new Et,_hidable:!1,_visible:!0,_set:t,_idx:i};return n.sort(function(m,A){var C=m.$layout,D=A.$layout;return C._idx===D._idx?D._set-C._set:D._idx-C._idx}),this.update(n),n},update:function(e){var t,i,s,r,u,n=!1;for(t=0,i=e.length;t<i;++t)r=(s=e[t]).model(),(u=s.$layout)._hidable=r&&"auto"===r.display,u._visible=s.visible(),n|=u._hidable;n&&function Lt(e){var n,t,i,s,r,u,m;for(n=0,t=e.length;n<t;++n)(s=(i=e[n]).$layout)._visible&&(m=new Proxy(i._el,{get:(A,C)=>A.getProps([C],!0)[C]}),r=i.geometry(),u=Tt(m,i.model(),r),s._box.update(u,r,i.rotation()));(function Ot(e,n){var t,i,s,r;for(t=e.length-1;t>=0;--t)for(s=e[t].$layout,i=t-1;i>=0&&s._visible;--i)(r=e[i].$layout)._visible&&s._box.intersects(r._box)&&n(s,r)})(e,function(A,C){var D=A._hidable,S=C._hidable;D&&S||S?C._visible=!1:D&&(A._visible=!1)})}(e)},lookup:function(e,n){var t,i;for(t=e.length-1;t>=0;--t)if((i=e[t].$layout)&&i._visible&&i._box.contains(n))return e[t];return null},draw:function(e,n){var t,i,s,r,u,m;for(t=0,i=n.length;t<i;++t)(r=(s=n[t]).$layout)._visible&&(u=s.geometry(),m=Tt(s._el,s.model(),u),r._box.update(m,u,s.rotation()),s.draw(e,m))}},c="$datalabels",f="$default";function b(e,n,t){if(n){var r,i=t.$context,s=t.$groups;!n[s._set]||(r=n[s._set][s._key])&&!0===(0,_.O)(r,[i])&&(e[c]._dirty=!0,t.update(i))}}const K={id:"datalabels",defaults:{align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(e){if((0,_.k)(e))return null;var t,i,s,n=e;if((0,_.i)(e))if((0,_.k)(e.label))if((0,_.k)(e.r))for(n="",s=0,i=(t=Object.keys(e)).length;s<i;++s)n+=(0!==s?", ":"")+t[s]+": "+e[t[s]];else n=e.r;else n=e.label;return""+n},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},beforeInit:function(e){e[c]={_actives:[]}},beforeUpdate:function(e){var n=e[c];n._listened=!1,n._listeners={},n._datasets=[],n._labels=[]},afterDatasetUpdate:function(e,n,t){var S,V,Qt,Vt,dt,Zt,R,H,i=n.index,s=e[c],r=s._datasets[i]=[],u=e.isDatasetVisible(i),m=e.data.datasets[i],A=function y(e,n){var r,u,t=e.datalabels,i={},s=[];return!1===t?null:(!0===t&&(t={}),n=(0,_.a2)({},[n,t]),r=n.labels||{},u=Object.keys(r),delete n.labels,u.length?u.forEach(function(m){r[m]&&s.push((0,_.a2)({},[n,r[m],{_key:m}]))}):s.push(n),i=s.reduce(function(m,A){return(0,_.D)(A.listeners||{},function(C,D){m[D]=m[D]||{},m[D][A._key||f]=C}),delete A.listeners,m},{}),{labels:s,listeners:i})}(m,t),C=n.meta.data||[],D=e.ctx;for(D.save(),S=0,Qt=C.length;S<Qt;++S)if((R=C[S])[c]=[],u&&R&&e.getDataVisibility(S)&&!R.skip)for(V=0,Vt=A.labels.length;V<Vt;++V)Zt=(dt=A.labels[V])._key,(H=new ht(dt,D,R,S)).$groups={_set:i,_key:Zt||f},H.$context={active:!1,chart:e,dataIndex:S,dataset:m,datasetIndex:i},H.update(H.$context),R[c].push(H),r.push(H);D.restore(),(0,_.a2)(s._listeners,A.listeners,{merger:function(It,se,_l){se[It]=se[It]||{},se[It][n.index]=_l[It],s._listened=!0}})},afterUpdate:function(e,n){e[c]._labels=v.prepare(e[c]._datasets,n)},afterDatasetsDraw:function(e){v.draw(e,e[c]._labels)},beforeEvent:function(e,n){if(e[c]._listened){var t=n.event;switch(t.type){case"mousemove":case"mouseout":!function B(e,n){var s,r,t=e[c],i=t._listeners;if(i.enter||i.leave){if("mousemove"===n.type)r=v.lookup(t._labels,n);else if("mouseout"!==n.type)return;s=t._hovered,t._hovered=r,function E(e,n,t,i){var s,r;!t&&!i||(t?i?t!==i&&(r=s=!0):r=!0:s=!0,r&&b(e,n.leave,t),s&&b(e,n.enter,i))}(e,i,s,r)}}(e,t);break;case"click":!function J(e,n){var t=e[c],i=t._listeners.click,s=i&&v.lookup(t._labels,n);s&&b(e,i,s)}(e,t)}}},afterEvent:function(e){var r,u,m,A,C,D,S,n=e[c],s=function(e,n){var s,r,u,m,t=e.slice(),i=[];for(s=0,u=n.length;s<u;++s)-1===(r=t.indexOf(m=n[s]))?i.push([m,1]):t.splice(r,1);for(s=0,u=t.length;s<u;++s)i.push([t[s],-1]);return i}(n._actives,n._actives=e.getActiveElements());for(r=0,u=s.length;r<u;++r)if((C=s[r])[1])for(m=0,A=(S=C[0].element[c]||[]).length;m<A;++m)(D=S[m]).$context.active=1===C[1],D.update(D.$context);(n._dirty||s.length)&&(v.update(n._labels),e.render()),delete n._dirty}};var kt=h(7154),He=h(2119),qe=h(1058),ze=h(7477),Je=h(5402),Ht=h(226),We=h(1135),Ke=h(8306),le=h(6451),qt=h(7579);function re(e){for(let n in e){let t=e[n]||"";switch(n){case"display":e.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":e["-webkit-"+n]=t;break;case"flex-direction":t=t||"row",e["-webkit-flex-direction"]=t,e["flex-direction"]=t;break;case"order":e.order=e["-webkit-"+n]=isNaN(+t)?"0":t}}return e}const zt="inline",Nt=["row","column","row-reverse","column-reverse"];function ae(e){let[n,t,i]=oe(e);return function ti(e,n=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":e,"flex-wrap":n||null}}(n,t,i)}function oe(e){var n;e=null!==(n=null==e?void 0:e.toLowerCase())&&void 0!==n?n:"";let[t,i,s]=e.split(" ");return Nt.find(r=>r===t)||(t=Nt[0]),i===zt&&(i=s!==zt?s:"",s=zt),[t,Xe(i),!!s]}function Ut(e){let[n]=oe(e);return n.indexOf("row")>-1}function Xe(e){if(e)switch(e.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":e="wrap-reverse";break;case"no":case"none":case"nowrap":e="nowrap";break;default:e="wrap"}return e}function at(e,...n){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(let t of n)if(null!=t)for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var Jt=h(9300),ei=h(8505);const ni={provide:l.tb,useFactory:function ii(e,n){return()=>{if((0,w.NF)(n)){const t=Array.from(e.querySelectorAll(`[class*=${de}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(s=>{s.classList.contains(`${de}ssr`)&&s.parentNode?s.parentNode.removeChild(s):s.className.replace(i,"")})}}},deps:[w.K0,l.Lbi],multi:!0},de="flex-layout-";let Wt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[ni]}),e})();class Rt{constructor(n=!1,t="all",i="",s="",r=0){this.matches=n,this.mediaQuery=t,this.mqAlias=i,this.suffix=s,this.priority=r,this.property=""}clone(){return new Rt(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let si=(()=>{class e{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,s){const r=this.stylesheet.get(t);r?r.set(i,s):this.stylesheet.set(t,new Map([[i,s]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){const s=this.stylesheet.get(t);let r="";if(s){const u=s.get(i);("number"==typeof u||"string"==typeof u)&&(r=u+"")}return r}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Kt={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},tt=new l.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Kt}),Gt=new l.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Xt=new l.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function ue(e,n){return e=e?e.clone():new Rt,n&&(e.mqAlias=n.alias,e.mediaQuery=n.mediaQuery,e.suffix=n.suffix,e.priority=n.priority),e}class Y{constructor(){this.shouldCache=!0}sideEffect(n,t,i){}}let I=(()=>{class e{constructor(t,i,s,r){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=s,this.layoutConfig=r}applyStyleToElement(t,i,s=null){let r={};"string"==typeof i&&(r[i]=s,i=r),r=this.layoutConfig.disableVendorPrefixes?i:re(i),this._applyMultiValueStyleToElement(r,t)}applyStyleToElements(t,i=[]){const s=this.layoutConfig.disableVendorPrefixes?t:re(t);i.forEach(r=>{this._applyMultiValueStyleToElement(s,r)})}getFlowDirection(t){const i="flex-direction";let s=this.lookupStyle(t,i);return[s||"row",this.lookupInlineStyle(t,i)||(0,w.PM)(this._platformId)&&this._serverModuleLoaded?s:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,i){var s;return null!==(s=t.getAttribute(i))&&void 0!==s?s:""}lookupInlineStyle(t,i){return(0,w.NF)(this._platformId)?t.style.getPropertyValue(i):function li(e,n){var t;return null!==(t=ge(e)[n])&&void 0!==t?t:""}(t,i)}lookupStyle(t,i,s=!1){let r="";return t&&((r=this.lookupInlineStyle(t,i))||((0,w.NF)(this._platformId)?s||(r=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(t,i)))),r?r.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(s=>{const r=t[s],u=Array.isArray(r)?r:[r];u.sort();for(let m of u)m=m?m+"":"",(0,w.NF)(this._platformId)||!this._serverModuleLoaded?(0,w.NF)(this._platformId)?i.style.setProperty(s,m):ri(i,s,m):this._serverStylesheet.addStyleToElement(i,s,m)})}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(si),l.LFG(Gt),l.LFG(l.Lbi),l.LFG(tt))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ri(e,n,t){n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=ge(e);i[n]=null!=t?t:"",function ai(e,n){let t="";for(const i in n)n[i]&&(t+=`${i}:${n[i]};`);e.setAttribute("style",t)}(e,i)}function ge(e){const n={},t=e.getAttribute("style");if(t){const i=t.split(/;+/g);for(let s=0;s<i.length;s++){const r=i[s].trim();if(r.length>0){const u=r.indexOf(":");if(-1===u)throw new Error(`Invalid CSS style: ${r}`);n[r.substr(0,u).trim()]=r.substr(u+1).trim()}}}return n}function Yt(e,n){return(n&&n.priority||0)-(e&&e.priority||0)}function oi(e,n){return(e.priority||0)-(n.priority||0)}let te=(()=>{class e{constructor(t,i,s){this._zone=t,this._platformId=i,this._document=s,this.source=new We.X(new Rt(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((i,s)=>{i.matches&&t.push(s)}),t}isActive(t){var i;const s=this.registry.get(t);return null!==(i=null==s?void 0:s.matches)&&void 0!==i?i:this.registerQuery(t).some(r=>r.matches)}observe(t,i=!1){if(t&&t.length){const s=this._observable$.pipe((0,Jt.h)(u=>!i||t.indexOf(u.mediaQuery)>-1)),r=new Ke.y(u=>{const m=this.registerQuery(t);if(m.length){const A=m.pop();m.forEach(C=>{u.next(C)}),this.source.next(A)}u.complete()});return(0,le.T)(r,s)}return this._observable$}registerQuery(t){const i=Array.isArray(t)?t:[t],s=[];return function di(e,n){const t=e.filter(i=>!ce[i]);if(t.length>0){const i=t.join(", ");try{const s=n.createElement("style");s.setAttribute("type","text/css"),s.styleSheet||s.appendChild(n.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),n.head.appendChild(s),t.forEach(r=>ce[r]=s)}catch(s){console.error(s)}}}(i,this._document),i.forEach(r=>{const u=A=>{this._zone.run(()=>this.source.next(new Rt(A.matches,r)))};let m=this.registry.get(r);m||(m=this.buildMQL(r),m.addListener(u),this.pendingRemoveListenerFns.push(()=>m.removeListener(u)),this.registry.set(r,m)),m.matches&&s.push(new Rt(!0,r))}),s}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function ui(e,n){return n&&window.matchMedia("all").addListener?window.matchMedia(e):{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,(0,w.NF)(this._platformId))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(l.R0b),l.LFG(l.Lbi),l.LFG(w.K0))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ce={},gi=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],me="(orientation: portrait) and (max-width: 599.98px)",fe="(orientation: landscape) and (max-width: 959.98px)",he="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",pe="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",xe="(orientation: portrait) and (min-width: 840px)",ye="(orientation: landscape) and (min-width: 1280px)",ot={HANDSET:`${me}, ${fe}`,TABLET:`${he} , ${pe}`,WEB:`${xe}, ${ye} `,HANDSET_PORTRAIT:`${me}`,TABLET_PORTRAIT:`${he} `,WEB_PORTRAIT:`${xe}`,HANDSET_LANDSCAPE:`${fe}`,TABLET_LANDSCAPE:`${pe}`,WEB_LANDSCAPE:`${ye}`},ci=[{alias:"handset",priority:2e3,mediaQuery:ot.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:ot.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:ot.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:ot.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:ot.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:ot.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:ot.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:ot.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:ot.WEB_PORTRAIT,overlapping:!0}],mi=/(\.|-|_)/g;function fi(e){let n=e.length>0?e.charAt(0):"",t=e.length>1?e.slice(1):"";return n.toUpperCase()+t}const yi=new l.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const e=(0,l.f3M)(Xt),n=(0,l.f3M)(tt),t=[].concat.apply([],(e||[]).map(s=>Array.isArray(s)?s:[s]));return function xi(e,n=[]){const t={};return e.forEach(i=>{t[i.alias]=i}),n.forEach(i=>{t[i.alias]?at(t[i.alias],i):t[i.alias]=i}),function pi(e){return e.forEach(n=>{n.suffix||(n.suffix=function hi(e){return e.replace(mi,"|").split("|").map(fi).join("")}(n.alias),n.overlapping=!!n.overlapping)}),e}(Object.keys(t).map(i=>t[i]))}((n.disableDefaultBps?[]:gi).concat(n.addOrientationBps?ci:[]),t)}});let ee=(()=>{class e{constructor(t){this.findByMap=new Map,this.items=[...t].sort(oi)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias===t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>{var i;return null!==(i=null==t?void 0:t.suffix)&&void 0!==i?i:""})}findWithPredicate(t,i){var s;let r=this.findByMap.get(t);return r||(r=null!==(s=this.items.find(i))&&void 0!==s?s:null,this.findByMap.set(t,r)),null!=r?r:null}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(yi))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Pt="print",vi={alias:Pt,mediaQuery:Pt,priority:1e3};let Ai=(()=>{class e{constructor(t,i,s){this.breakpoints=t,this.layoutConfig=i,this._document=s,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Ci,this.deactivations=[]}withPrintQuery(t){return[...t,Pt]}isPrintEvent(t){return t.mediaQuery.startsWith(Pt)}get printAlias(){var t;return[...null!==(t=this.layoutConfig.printWithBreakpoints)&&void 0!==t?t:[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Yt)}updateEvent(t){var i;let s=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(s=this.getEventBreakpoints(t)[0],t.mediaQuery=null!==(i=null==s?void 0:s.mediaQuery)&&void 0!==i?i:""),ue(t,s)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new Rt(!0,Pt))),t.updateStyles())},s=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",s),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(s)}interceptEvents(t){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const s=this.breakpoints.findByQuery(i.mediaQuery);if(s){const r=this.formerActivations&&this.formerActivations.includes(s),u=!this.formerActivations&&t.activatedBreakpoints.includes(s);(r||u)&&(this.deactivations.push(s),this.deactivations.sort(Yt))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(ee),l.LFG(tt),l.LFG(w.K0))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Ci{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(n){return n.push(vi),n.sort(Yt),n.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(n){n&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===n.mediaQuery)&&(this.printBreakpoints=function _i(e){var n;return null!==(n=null==e?void 0:e.mediaQuery.startsWith(Pt))&&void 0!==n&&n}(n)?[n,...this.printBreakpoints]:[...this.printBreakpoints,n])}clear(){this.printBreakpoints=[]}}let k=(()=>{class e{constructor(t,i,s){this.matchMedia=t,this.breakpoints=i,this.hook=s,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new qt.x,this.observeActivations()}get activatedAlias(){var t,i;return null!==(i=null===(t=this.activatedBreakpoints[0])||void 0===t?void 0:t.alias)&&void 0!==i?i:""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const i=this.findByQuery(t.mediaQuery);if(i){t=ue(t,i);const s=this.activatedBreakpoints.indexOf(i);t.matches&&-1===s?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Yt),this.updateStyles()):!t.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(Yt),this.updateStyles())}}init(t,i,s,r,u=[]){ve(this.updateMap,t,i,s),ve(this.clearMap,t,i,r),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,u)}getValue(t,i,s){const r=this.elementMap.get(t);if(r){const u=void 0!==s?r.get(s):this.getActivatedValues(r,i);if(u)return u.get(i)}}hasValue(t,i){const s=this.elementMap.get(t);if(s){const r=this.getActivatedValues(s,i);if(r)return void 0!==r.get(i)||!1}return!1}setValue(t,i,s,r){var u;let m=this.elementMap.get(t);if(m){const C=(null!==(u=m.get(r))&&void 0!==u?u:new Map).set(i,s);m.set(r,C),this.elementMap.set(t,m)}else m=(new Map).set(r,(new Map).set(i,s)),this.elementMap.set(t,m);const A=this.getValue(t,i);void 0!==A&&this.updateElement(t,i,A)}trackValue(t,i){return this.subject.asObservable().pipe((0,Jt.h)(s=>s.element===t&&s.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{const s=new Set(this.elementKeyMap.get(i));let r=this.getActivatedValues(t);r&&r.forEach((u,m)=>{this.updateElement(i,m,u),s.delete(m)}),s.forEach(u=>{if(r=this.getActivatedValues(t,u),r){const m=r.get(u);this.updateElement(i,u,m)}else this.clearElement(i,u)})})}clearElement(t,i){const s=this.clearMap.get(t);if(s){const r=s.get(i);r&&(r(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,s){const r=this.updateMap.get(t);if(r){const u=r.get(i);u&&(u(s),this.subject.next({element:t,key:i,value:s}))}}releaseElement(t){const i=this.watcherMap.get(t);i&&(i.forEach(r=>r.unsubscribe()),this.watcherMap.delete(t));const s=this.elementMap.get(t);s&&(s.forEach((r,u)=>s.delete(u)),this.elementMap.delete(t))}triggerUpdate(t,i){const s=this.elementMap.get(t);if(s){const r=this.getActivatedValues(s,i);r&&(i?this.updateElement(t,i,r.get(i)):r.forEach((u,m)=>this.updateElement(t,m,u)))}}buildElementKeyMap(t,i){let s=this.elementKeyMap.get(t);s||(s=new Set,this.elementKeyMap.set(t,s)),s.add(i)}watchExtraTriggers(t,i,s){if(s&&s.length){let r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(i)){const m=(0,le.T)(...s).subscribe(()=>{const A=this.getValue(t,i);this.updateElement(t,i,A)});r.set(i,m)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let r=0;r<this.activatedBreakpoints.length;r++){const m=t.get(this.activatedBreakpoints[r].alias);if(m&&(void 0===i||m.has(i)&&null!=m.get(i)))return m}if(!this._useFallbacks)return;const s=t.get("");return void 0===i||s&&s.has(i)?s:void 0}observeActivations(){const t=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe((0,ei.b)(this.hook.interceptEvents(this)),(0,Jt.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(te),l.LFG(ee),l.LFG(Ai))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ve(e,n,t,i){var s;if(void 0!==i){const r=null!==(s=e.get(n))&&void 0!==s?s:new Map;r.set(t,i),e.set(n,r)}}let U=(()=>{class e{constructor(t,i,s,r){this.elementRef=t,this.styleBuilder=i,this.styler=s,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new qt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const s=i.split(".").slice(1).join(".");this.setValue(t[i].currentValue,s)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){const s=this.styleBuilder,r=s.shouldCache;let u=this.styleCache.get(t);(!u||!r)&&(u=s.buildStyles(t,i),r&&this.styleCache.set(t,u)),this.mru=Object.assign({},u),this.applyStyleToElement(u),s.sideEffect(t,u,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){const[s,r]=this.styler.getFlowDirection(t);if(!r&&i){const u=ae(s);this.styler.applyStyleToElements(u,[t])}return s.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,s=this.nativeElement){this.styler.applyStyleToElement(s,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(Y),l.Y36(I),l.Y36(k))},e.\u0275dir=l.lG2({type:e,features:[l.TTD]}),e})();function Ae(e,n="1",t="1"){let i=[n,t,e],s=e.indexOf("calc");if(s>0){i[2]=Ce(e.substring(s).trim());let r=e.substr(0,s).trim().split(" ");2==r.length&&(i[0]=r[0],i[1]=r[1])}else if(0==s)i[2]=Ce(e.trim());else{let r=e.split(" ");i=3===r.length?r:[n,t,e]}return i}function Ce(e){return e.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function $t(e,n){if(void 0===n)return e;const t=i=>{const s=+i.slice(0,-"x".length);return e.endsWith("x")&&!isNaN(s)?`${s*n.value}${n.unit}`:e};return e.includes(" ")?e.split(" ").map(t).join(" "):t(e)}var Bt=h(2722);let Fi=(()=>{class e extends Y{buildStyles(t,{display:i}){const s=ae(t);return Object.assign(Object.assign({},s),{display:"none"===i?i:s.display})}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(e)))(i||e)}}(),e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Di=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Mi=(()=>{class e extends U{constructor(t,i,s,r,u){super(t,s,i,r),this._config=u,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){var i;const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(i=we.get(r))&&void 0!==i?i:new Map,we.set(r,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:r}),this.currentValue=t)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(I),l.Y36(Fi),l.Y36(k),l.Y36(tt))},e.\u0275dir=l.lG2({type:e,features:[l.qOj]}),e})(),be=(()=>{class e extends Mi{constructor(){super(...arguments),this.inputs=Di}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(e)))(i||e)}}(),e.\u0275dir=l.lG2({type:e,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[l.qOj]}),e})();const we=new Map,Fe={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Si=(()=>{class e extends Y{constructor(t,i){super(),this._styler=t,this._config=i}buildStyles(t,i){return t.endsWith(jt)?function Bi(e,n){const[t,i]=e.split(" "),r=C=>`-${C}`;let u="0px",m=r(null!=i?i:t),A="0px";return"rtl"===n?A=r(t):u=r(t),{margin:`0px ${u} ${m} ${A}`}}(t=$t(t=t.slice(0,t.indexOf(jt)),this._config.multiplier),i.directionality):{}}sideEffect(t,i,s){const r=s.items;if(t.endsWith(jt)){const u=function Pi(e,n){const[t,i]=e.split(" ");let r="0px",m="0px";return"rtl"===n?m=t:r=t,{padding:`0px ${r} ${null!=i?i:t} ${m}`}}(t=$t(t=t.slice(0,t.indexOf(jt)),this._config.multiplier),s.directionality);this._styler.applyStyleToElements(u,s.items)}else{t=$t(t,this._config.multiplier),t=this.addFallbackUnit(t);const u=r.pop(),m=function Ii(e,n){const t=Me(n.directionality,n.layout),i=Object.assign({},Fe);return i[t]=e,i}(t,s);this._styler.applyStyleToElements(m,r),this._styler.applyStyleToElements(Fe,[u])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(I),l.LFG(tt))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ei=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Ti=(()=>{class e extends U{constructor(t,i,s,r,u,m){super(t,u,r,m),this.zone=i,this.directionality=s,this.styleUtils=r,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new qt.x;const A=[this.directionality.change,this.observerSubject.asObservable()];this.init(A),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,Bt.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,i=[];for(let s=t.length;s--;)i[s]=t[s];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const s=t.value.split(" ");this.layout=s[0],Nt.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const i=this.childrenNodes.filter(s=>1===s.nodeType&&this.willDisplay(s)).sort((s,r)=>{const u=+this.styler.lookupStyle(s,"order"),m=+this.styler.lookupStyle(r,"order");return isNaN(u)||isNaN(m)||u===m?0:u>m?1:-1});if(i.length>0){const s=this.directionality.value,r=this.layout;"row"===r&&"rtl"===s?this.styleCache=Oi:"row"===r&&"rtl"!==s?this.styleCache=Ri:"column"===r&&"rtl"===s?this.styleCache=Li:"column"===r&&"rtl"!==s&&(this.styleCache=Gi),this.addStyles(t,{directionality:s,items:i,layout:r})}}clearStyles(){const t=Object.keys(this.mru).length>0,i=t?"padding":Me(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(t){const i=this.marshal.getValue(t,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(s=>s.addedNodes&&s.addedNodes.length>0||s.removedNodes&&s.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Ht.Is),l.Y36(I),l.Y36(Si),l.Y36(k))},e.\u0275dir=l.lG2({type:e,features:[l.qOj]}),e})(),De=(()=>{class e extends Ti{constructor(){super(...arguments),this.inputs=Ei}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(e)))(i||e)}}(),e.\u0275dir=l.lG2({type:e,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[l.qOj]}),e})();const Oi=new Map,Li=new Map,Ri=new Map,Gi=new Map,jt=" grid";function Me(e,n){switch(n){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===e?"margin-left":"margin-right";case"row-reverse":return"rtl"===e?"margin-right":"margin-left"}}let ki=(()=>{class e extends Y{constructor(t){super(),this.layoutConfig=t}buildStyles(t,i){let[s,r,...u]=t.split(" "),m=u.join(" ");const A=i.direction.indexOf("column")>-1?"column":"row",C=Ut(A)?"max-width":"max-height",D=Ut(A)?"min-width":"min-height",S=String(m).indexOf("calc")>-1,V=S||"auto"===m,Qt=String(m).indexOf("%")>-1&&!S,Vt=String(m).indexOf("px")>-1||String(m).indexOf("rem")>-1||String(m).indexOf("em")>-1||String(m).indexOf("vw")>-1||String(m).indexOf("vh")>-1;let dt=S||Vt;s="0"==s?0:s,r="0"==r?0:r;const Zt=!s&&!r;let R={};const H={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(m||""){case"":const It=!1!==this.layoutConfig.useColumnBasisZero;m="row"===A?"0%":It?"0.000000001px":"auto";break;case"initial":case"nogrow":s=0,m="auto";break;case"grow":m="100%";break;case"noshrink":r=0,m="auto";break;case"auto":break;case"none":s=0,r=0,m="auto";break;default:!dt&&!Qt&&!isNaN(m)&&(m+="%"),"0%"===m&&(dt=!0),"0px"===m&&(m="0%"),R=at(H,S?{"flex-grow":s,"flex-shrink":r,"flex-basis":dt?m:"100%"}:{flex:`${s} ${r} ${dt?m:"100%"}`})}return R.flex||R["flex-grow"]||(R=at(H,S?{"flex-grow":s,"flex-shrink":r,"flex-basis":m}:{flex:`${s} ${r} ${m}`})),"0%"!==m&&"0px"!==m&&"0.000000001px"!==m&&"auto"!==m&&(R[D]=Zt||dt&&s?m:null,R[C]=Zt||!V&&r?m:null),R[D]||R[C]?i.hasWrap&&(R[S?"flex-basis":"flex"]=R[C]?S?R[C]:`${s} ${r} ${R[C]}`:S?R[D]:`${s} ${r} ${R[D]}`):R=at(H,S?{"flex-grow":s,"flex-shrink":r,"flex-basis":m}:{flex:`${s} ${r} ${m}`}),at(R,{"box-sizing":"border-box"})}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(tt))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ui=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Yi=(()=>{class e extends U{constructor(t,i,s,r,u){super(t,r,i,u),this.layoutConfig=s,this.marshal=u,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,Bt.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,Bt.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const s=t.value.split(" ");this.direction=s[0],this.wrap=void 0!==s[1]&&"wrap"===s[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const s=this.direction,r=s.startsWith("row"),u=this.wrap;r&&u?this.styleCache=$i:r&&!u?this.styleCache=Zi:!r&&u?this.styleCache=ji:!r&&!u&&(this.styleCache=Ni);const A=Ae(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(A.join(" "),{direction:s,hasWrap:u})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const i=Ae(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(I),l.Y36(tt),l.Y36(ki),l.Y36(k))},e.\u0275dir=l.lG2({type:e,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[l.qOj]}),e})(),Se=(()=>{class e extends Yi{constructor(){super(...arguments),this.inputs=Ui}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(e)))(i||e)}}(),e.\u0275dir=l.lG2({type:e,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[l.qOj]}),e})();const Zi=new Map,Ni=new Map,$i=new Map,ji=new Map;let Ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[Wt,Ht.vT]]}),e})();var ie=h(4107),Dn=h(508);function Mn(e,n){if(1&e&&(l.TgZ(0,"mat-option",13),l._uU(1),l.qZA()),2&e){const t=n.$implicit;l.Q6J("value",t.id),l.xp6(1),l.Oqu(t.codigo)}}let Sn=(()=>{class e{constructor(t,i,s,r,u,m){this._dialog=t,this.apiSvc=i,this.templateSvc=s,this.userSvc=r,this.poolSvc=u,this.paramService=m,this.barChartPlugins=[K],this.datosApi=[],this.nombreParametrosApi=[],this.valor_minimo=[],this.valor_maximo=[],this.barChartLabels=[],this.barChartType="bar",this.barChartLabels1=[],this.barChartLabels2=[],this.barChartLabels3=[],this.barChartLabels4=[],this.displayedColumns=["nombre","valor","observacion"],this.dataSource=new O.by,this.piscinasUsuarioDisponibles=[],this.selectedPool=null,this.plantillasPiscina=[],this.selectedPoolCensus=null,this.intervalActive=null,this.saveActive=null,this.selectedCensus=!1,this.selectedStop=!1,this.barChartOptions={responsive:!0,scales:{x:{max:1},y:{min:0,ticks:{callback:function(A,C,D){return A+"mg/l"}}}},plugins:{legend:{display:!0},datalabels:{anchor:"center",align:"center"}}},this.barChartOptions1={responsive:!0,scales:{x:{max:1},y:{min:0,ticks:{callback:function(A,C,D){return A+"ppt"}}}},plugins:{legend:{display:!0},datalabels:{anchor:"center",align:"center"}}},this.barChartOptions2={responsive:!0,scales:{x:{max:1},y:{min:0,ticks:{callback:function(A,C,D){return A+"\xb0C"}}}},plugins:{legend:{display:!0},datalabels:{anchor:"center",align:"center"}}},this.barChartOptions3={responsive:!0,scales:{x:{max:1},y:{min:0}},plugins:{legend:{display:!0},datalabels:{anchor:"center",align:"center"}}}}ngOnDestroy(){this.intervalActive&&clearInterval(this.intervalActive),this.saveActive&&clearInterval(this.saveActive)}ngOnInit(){this.llamarPiscinasUsuario()}llamarPiscinasUsuario(){const t=JSON.parse(localStorage.getItem("user"))||null;"supervisor"===t.rol?this.poolSvc.getAll().subscribe(i=>{this.piscinasUsuarioDisponibles.push(i)}):"operador"===t.rol&&this.userSvc.getById(t.userId).subscribe(i=>{this.piscinasUsuarioDisponibles.push(i.piscinas)})}getParametroApi(){this.selectedPoolCensus=this.selectedPool,this.templateSvc.getTemplateByPool(this.selectedPool).subscribe(t=>{t.length>0?(this.valor_minimo=[],this.valor_maximo=[],t.forEach(i=>{this.valor_minimo.push(i.valor_minimo),this.valor_maximo.push(i.valor_maximo)})):(this.valor_minimo=[],this.valor_maximo=[])}),this.nombreParametrosApi=[],this.datosApi=[],this.apiSvc.getAll().subscribe(t=>{this.nombreParametrosApi.push(Object.keys(t)),this.datosApi.push(Object.values(t)),this.cargarDatosApi()})}getPlantillaPiscina(){}stopPlantilla(){this.selectedCensus=!1,this.intervalActive&&(clearInterval(this.intervalActive),clearInterval(this.saveActive)),this.getParametroApi()}guardarCenso(){this.selectedStop=!1;const t=JSON.parse(localStorage.getItem("user"))||null;this.paramService.newCensus(this.selectedPool,t.userId).subscribe(i=>{o().fire({position:"center",icon:"success",title:i.message,showConfirmButton:!1,timer:1e3})})}cargarDatosApi(){this.barChartData=[],this.barChartData.push({data:[this.datosApi[0][0]],label:"API"},{data:[this.valor_minimo[0]],label:"Valor_minimo"},{data:[this.valor_maximo[0]],label:"Valor_Maximo"}),this.barChartLabels[0]=this.nombreParametrosApi[0][0],this.barChartData1=[],this.barChartData1.push({data:[this.datosApi[0][1]],label:"API"},{data:[this.valor_minimo[1]],label:"Valor_minimo"},{data:[this.valor_maximo[1]],label:"Valor_Maximo"}),this.barChartLabels1[0]=this.nombreParametrosApi[0][1],this.barChartData2=[],this.barChartData2.push({data:[this.datosApi[0][2]],label:"API"},{data:[this.valor_minimo[2]],label:"Valor_minimo"},{data:[this.valor_maximo[2]],label:"Valor_Maximo"}),this.barChartLabels2[0]=this.nombreParametrosApi[0][2],this.barChartData3=[],this.barChartData3.push({data:[this.datosApi[0][3]],label:"API"},{data:[this.valor_minimo[3]],label:"Valor_minimo"},{data:[this.valor_maximo[3]],label:"Valor_Maximo"}),this.barChartLabels3[0]=this.nombreParametrosApi[0][3],this.barChartData4=[],this.barChartData4.push({data:[this.datosApi[0][4]],label:"API"},{data:[this.valor_minimo[4]],label:"Valor_minimo"},{data:[this.valor_maximo[4]],label:"Valor_Maximo"}),this.barChartLabels4[0]=this.nombreParametrosApi[0][4]}onOpenModal(){this._dialog.open(G,{height:"400px",width:"500px"}).afterClosed().subscribe(t=>{if(console.log(t),t){const{horasEncendido:i,minutosEncendido:s,minutosFrecuencia:r,horasFrecuencia:u}=t;let m=6e4*(60*u+r),A=6e4*(60*i+s);this.getPlantillaPiscina(),this.selectedCensus=!0,setTimeout(()=>{clearInterval(this.saveActive),this.selectedCensus=!1,clearInterval(this.intervalActive),this.playAudio()},A),this.saveActive=setInterval(()=>{this.guardarCenso()},m),this.intervalActive=setInterval(()=>{this.getParametroApi()},1500)}})}playAudio(){const t=new Audio;t.src="assets/sounds/alarma.mp3",t.load(),t.play()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.uw),l.Y36(kt.s),l.Y36(He.E),l.Y36(qe.K),l.Y36(ze.q),l.Y36(Je.y))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-graphics-parameters"]],viewQuery:function(t,i){if(1&t&&(l.Gf(M.jh,5),l.Gf(L.YE,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.chart=s.first),l.iGM(s=l.CRH())&&(i.sort=s.first)}},decls:28,vars:33,consts:[["fxLayout","column","fxFlex","100"],["fxLayout","row","fxFlex","100",1,"buttons"],["appearance","fill"],["name","pool",3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["ngDefaultControl","",1,"table-button-row",3,"ngModel","ngModelChange"],["mat-flat-button","","color","accent",3,"disabled","click"],[1,"table-button-row"],["fxLayout","row wrap","fxFlex","100","fxLayoutGap","100px"],["fxLayout","column","fxLayoutGap","30px",1,"table",2,"display","block"],["baseChart","",3,"datasets","options","type","labels","plugins"],["fxLayout","column",1,"table",2,"display","block"],[1,"table",2,"display","block"],[3,"value"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),l._uU(4,"Piscinas"),l.qZA(),l.TgZ(5,"mat-select",3),l.NdJ("ngModelChange",function(r){return i.selectedPool=r}),l.YNc(6,Mn,2,2,"mat-option",4),l.qZA()(),l.TgZ(7,"div",5),l.NdJ("ngModelChange",function(r){return!(i.selectedCensus=r)}),l.TgZ(8,"button",6),l.NdJ("click",function(){return i.onOpenModal()}),l._uU(9,"Censar"),l.qZA()(),l.TgZ(10,"div",5),l.NdJ("ngModelChange",function(r){return i.selectedStop=r}),l.TgZ(11,"button",6),l.NdJ("click",function(){return i.stopPlantilla()}),l._uU(12,"Parar"),l.qZA()(),l.TgZ(13,"div",7)(14,"button",6),l.NdJ("click",function(){return i.guardarCenso()}),l._uU(15,"Guardar"),l.qZA()()(),l.TgZ(16,"div",8)(17,"div",9),l._UZ(18,"canvas",10),l.qZA(),l.TgZ(19,"div",9),l._UZ(20,"canvas",10),l.qZA(),l.TgZ(21,"div",9),l._UZ(22,"canvas",10),l.qZA(),l.TgZ(23,"div",11),l._UZ(24,"canvas",10),l.qZA(),l.TgZ(25,"div",12),l._UZ(26,"canvas",10),l.qZA()(),l._UZ(27,"table"),l.qZA()),2&t&&(l.xp6(5),l.Q6J("ngModel",i.selectedPool)("disabled",!0===i.selectedCensus),l.xp6(1),l.Q6J("ngForOf",i.piscinasUsuarioDisponibles[0]),l.xp6(1),l.Q6J("ngModel",!i.selectedCensus),l.xp6(1),l.Q6J("disabled",!i.selectedPool||!0===i.selectedCensus),l.xp6(2),l.Q6J("ngModel",i.selectedStop),l.xp6(1),l.Q6J("disabled",!i.selectedCensus),l.xp6(3),l.Q6J("disabled",!i.selectedCensus),l.xp6(4),l.Q6J("datasets",i.barChartData)("options",i.barChartOptions)("type",i.barChartType)("labels",i.barChartLabels)("plugins",i.barChartPlugins),l.xp6(2),l.Q6J("datasets",i.barChartData1)("options",i.barChartOptions1)("type",i.barChartType)("labels",i.barChartLabels1)("plugins",i.barChartPlugins),l.xp6(2),l.Q6J("datasets",i.barChartData2)("options",i.barChartOptions2)("type",i.barChartType)("labels",i.barChartLabels2)("plugins",i.barChartPlugins),l.xp6(2),l.Q6J("datasets",i.barChartData3)("options",i.barChartOptions3)("type",i.barChartType)("labels",i.barChartLabels3)("plugins",i.barChartPlugins),l.xp6(2),l.Q6J("datasets",i.barChartData4)("options",i.barChartOptions3)("type",i.barChartType)("labels",i.barChartLabels4)("plugins",i.barChartPlugins))},directives:[be,Se,Q.KE,Q.hX,ie.gD,x.JJ,x.On,w.sg,Dn.ey,x.Fj,$.lW,De,M.jh],styles:[".table[_ngcontent-%COMP%]{width:30%;margin-left:150px;margin-top:1rem}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}.buttons[_ngcontent-%COMP%]{margin:0 auto;margin-top:2rem}"]}),e})();const En=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-admin"]],decls:4,vars:0,consts:[[1,"tittle"],[1,"letter"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"h1",1),l._uU(2," CENSANDO PAR\xc1METROS... "),l.qZA()(),l._UZ(3,"app-graphics-parameters"))},directives:[Sn],styles:[".tittle[_ngcontent-%COMP%]{text-align:center;color:#782d9b;padding-top:20px}.letter[_ngcontent-%COMP%]{font-family:Nunito Sans,sans-serif;font-size:2rem}"]}),e})()},{path:"users",loadChildren:()=>Promise.resolve().then(h.bind(h,5007)).then(e=>e.UsersModule)},{path:"templates",loadChildren:()=>Promise.resolve().then(h.bind(h,1570)).then(e=>e.TemplateModule)},{path:"parameters",loadChildren:()=>Promise.resolve().then(h.bind(h,7984)).then(e=>e.ParametersModule)},{path:"pools",loadChildren:()=>h.e(600).then(h.bind(h,600)).then(e=>e.PoolsModule)},{path:"reports",loadChildren:()=>h.e(866).then(h.bind(h,866)).then(e=>e.ReportsPoolModule)}];let Tn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[T.Bz.forChild(En)],T.Bz]}),e})();var Te=h(4169),On=h(5007),Oe=h(520);h(3191),h(2313);let Ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[Wt]]}),e})(),Qe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[Wt]]}),e})(),Ve=(()=>{class e{constructor(t,i){(0,w.PM)(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:e,providers:t.serverLoaded?[{provide:tt,useValue:Object.assign(Object.assign({},Kt),t)},{provide:Xt,useValue:i,multi:!0},{provide:Gt,useValue:!0}]:[{provide:tt,useValue:Object.assign(Object.assign({},Kt),t)},{provide:Xt,useValue:i,multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(Gt),l.LFG(l.Lbi))},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[Ee,Ie,Qe],Ee,Ie,Qe]}),e})(),yl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[w.ez,Te.q,Oe.JF,x.UX,a.Is,ie.LD,d.c,x.u5,Ve]]}),e})();var vl=h(7984),Al=h(1570);let Cl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[w.ez,Tn,Te.q,a.Is,ie.LD,x.UX,M.vQ,yl,On.UsersModule,Al.TemplateModule,vl.ParametersModule,Oe.JF,x.u5,Ve,O.p0]]}),e})()},7984:(ut,Z,h)=>{h.r(Z),h.d(Z,{ParametersModule:()=>Lt});var w=h(9808),T=h(1083),l=h(4847),M=h(8279),O=h(7579),L=h(2722),F=h(8966),o=h(5226),x=h.n(o),a=h(5e3),Q=h(5402),d=h(2119),$=h(7477),G=h(3075);let _=(()=>{class v{constructor(g){this.fb=g,this.errorMessage=null,this.baseForm=this.fb.group({codigo:["",[G.kI.required,G.kI.minLength(6)]],nombre:["",[G.kI.required,G.kI.minLength(2)]],plantilla:["",[G.kI.required]],piscina:["",[G.kI.required]]})}isValidField(g){var c,f,y;return this.getErrorMessage(g),((null===(c=this.baseForm.get(g))||void 0===c?void 0:c.touched)||(null===(f=this.baseForm.get(g))||void 0===f?void 0:f.dirty))&&!(null===(y=this.baseForm.get(g))||void 0===y?void 0:y.valid)}getErrorMessage(g){var c;const{errors:f}=this.baseForm.get(g);if(f){const b={required:"Campo requerido",minLength:`Debe tener minimo ${null===(c=null==f?void 0:f.minlength)||void 0===c?void 0:c.requiredLength} caracteres`},E=Object.keys(f).find(Boolean);this.errorMessage=b[E]}}}return v.\u0275fac=function(g){return new(g||v)(a.LFG(G.qu))},v.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var et=h(7154),N=h(7322),q=h(7531),z=h(4107),lt=h(508),rt=h(7423);function gt(v,p){if(1&v&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&v){const g=a.oxw();a.xp6(1),a.hij(" ",g.paramForm.errorMessage," ")}}function ct(v,p){if(1&v&&(a.TgZ(0,"mat-option",14),a._uU(1),a.qZA()),2&v){const g=p.$implicit;a.Q6J("value",g),a.xp6(1),a.Oqu(g)}}function mt(v,p){if(1&v&&(a.TgZ(0,"mat-option",14),a._uU(1),a.qZA()),2&v){const g=p.$implicit;a.Q6J("value",g.id),a.xp6(1),a.Oqu(g.codigo)}}function ft(v,p){if(1&v&&(a.TgZ(0,"mat-option",14),a._uU(1),a.qZA()),2&v){const g=p.$implicit;a.Q6J("value",g.id),a.xp6(1),a.Oqu(g.codigo)}}var P=(()=>{return(v=P||(P={})).EDIT="edit",v.NEW="new",P;var v})();let xt=(()=>{class v{constructor(g,c,f,y,b,E){this.data=g,this.paramSvc=c,this.templateSvc=f,this.poolService=y,this.paramForm=b,this.apiSvc=E,this.actionTODO=P.NEW,this.plantillasDisponibles=[],this.piscinasDisponibles=[],this.nombreParametrosApi=[]}ngOnInit(){var g;this.llamarPlantillas(),this.llamarPiscinas(),this.llamarNombres(),(null===(g=this.data)||void 0===g?void 0:g.parameter.hasOwnProperty("id"))?(this.actionTODO=P.EDIT,this.data.title="Editar Parametro",this.pathFormData()):(this.paramForm.baseForm.markAsUntouched(),this.paramForm.baseForm.get("nombre").setValue(null),this.paramForm.baseForm.get("codigo").setValue(null),this.paramForm.baseForm.get("plantilla").setValue(null),this.paramForm.baseForm.get("piscina").setValue(null),this.paramForm.baseForm.updateValueAndValidity())}onChange(){}llamarNombres(){this.apiSvc.getAll().subscribe(g=>{this.nombreParametrosApi=Object.keys(g)})}llamarPlantillas(){this.templateSvc.getAll().subscribe(g=>{g.forEach(c=>{this.plantillasDisponibles.push(c)})})}llamarPiscinas(){this.poolService.getAll().subscribe(g=>{g.forEach(c=>{this.piscinasDisponibles.push(c)})})}onSaveTemplate(){var g,c;const f=this.paramForm.baseForm.value;if(this.actionTODO===P.NEW)this.paramSvc.new(f).subscribe(y=>{x().fire({position:"center",icon:"success",title:y.message,showConfirmButton:!1,timer:1500})});else{const y=null===(c=null===(g=this.data)||void 0===g?void 0:g.parameter)||void 0===c?void 0:c.id;this.paramSvc.update(y,f).subscribe(b=>{x().fire({position:"center",icon:"success",title:b.message,showConfirmButton:!1,timer:1e3})})}}pathFormData(){var g,c,f,y,b,E,B,J,W,K;this.paramForm.baseForm.patchValue({codigo:null===(c=null===(g=this.data)||void 0===g?void 0:g.parameter)||void 0===c?void 0:c.codigo,nombre:null===(y=null===(f=this.data)||void 0===f?void 0:f.parameter)||void 0===y?void 0:y.nombre,plantilla:null===(B=null===(E=null===(b=this.data)||void 0===b?void 0:b.parameter)||void 0===E?void 0:E.plantilla)||void 0===B?void 0:B.id,piscina:null===(K=null===(W=null===(J=this.data)||void 0===J?void 0:J.parameter)||void 0===W?void 0:W.piscina)||void 0===K?void 0:K.id})}checkField(g){return this.paramForm.isValidField(g)}}return v.\u0275fac=function(g){return new(g||v)(a.Y36(F.WI),a.Y36(Q.y),a.Y36(d.E),a.Y36($.q),a.Y36(_),a.Y36(et.s))},v.\u0275cmp=a.Xpm({type:v,selectors:[["app-modal-parameter"]],decls:28,vars:7,consts:[["mat-dialog-title",""],[1,"modal-form"],[3,"formGroup"],[1,"full-width-input"],["formControlName","codigo","matInput","","placeholder","codigo","required",""],[4,"ngIf"],["appearance","fill",1,"full-width-input"],["formControlName","nombre","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","plantilla","required",""],["formControlName","piscina","required",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"mat-dialog-close","click"],[3,"value"]],template:function(g,c){1&g&&(a.TgZ(0,"h2",0),a._uU(1),a.qZA(),a.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"form",2)(5,"mat-form-field",3),a._UZ(6,"input",4),a.YNc(7,gt,2,1,"mat-error",5),a.qZA(),a.TgZ(8,"mat-form-field",6)(9,"mat-label"),a._uU(10,"nombre"),a.qZA(),a.TgZ(11,"mat-select",7),a.YNc(12,ct,2,2,"mat-option",8),a.qZA()(),a.TgZ(13,"mat-form-field",6)(14,"mat-label"),a._uU(15,"Plantillas"),a.qZA(),a.TgZ(16,"mat-select",9),a.YNc(17,mt,2,2,"mat-option",8),a.qZA()(),a.TgZ(18,"mat-form-field",6)(19,"mat-label"),a._uU(20,"Piscinas"),a.qZA(),a.TgZ(21,"mat-select",10),a.YNc(22,ft,2,2,"mat-option",8),a.qZA()()()()(),a.TgZ(23,"mat-dialog-actions",11)(24,"button",12),a._uU(25,"Cancelar "),a.qZA(),a.TgZ(26,"button",13),a.NdJ("click",function(){return c.onSaveTemplate()}),a._uU(27," Guardar "),a.qZA()()),2&g&&(a.xp6(1),a.hij(" ",null==c.data?null:c.data.title,""),a.xp6(3),a.Q6J("formGroup",c.paramForm.baseForm),a.xp6(3),a.Q6J("ngIf",c.checkField("codigo")),a.xp6(5),a.Q6J("ngForOf",c.nombreParametrosApi),a.xp6(5),a.Q6J("ngForOf",c.plantillasDisponibles),a.xp6(5),a.Q6J("ngForOf",c.piscinasDisponibles),a.xp6(4),a.Q6J("mat-dialog-close",!0))},directives:[F.uh,F.xY,G._Y,G.JL,G.sg,N.KE,G.Fj,q.Nt,G.JJ,G.u,G.Q7,w.O5,N.TO,N.hX,z.gD,w.sg,lt.ey,F.H8,rt.lW,F.ZT],styles:[".modal-form[_ngcontent-%COMP%]{padding:1rem 0}.full-width-input[_ngcontent-%COMP%]{width:100%}"]}),v})();function it(v,p){if(1&v&&(a.TgZ(0,"mat-option",23),a._uU(1),a.qZA()),2&v){const g=p.$implicit;a.Q6J("value",g),a.xp6(1),a.Oqu(g)}}function nt(v,p){1&v&&(a.TgZ(0,"th",24),a._uU(1," No. "),a.qZA())}function j(v,p){if(1&v&&(a.TgZ(0,"td",25),a._uU(1),a.qZA()),2&v){const g=p.index;a.xp6(1),a.hij(" ",g+1," ")}}function yt(v,p){1&v&&(a.TgZ(0,"th",26),a._uU(1," Codigo "),a.qZA())}function vt(v,p){if(1&v&&(a.TgZ(0,"td",25),a._uU(1),a.qZA()),2&v){const g=p.$implicit;a.xp6(1),a.hij(" ",g.codigo," ")}}function At(v,p){1&v&&(a.TgZ(0,"th",27),a._uU(1," Nombre "),a.qZA())}function Ct(v,p){if(1&v&&(a.TgZ(0,"td",25),a._uU(1),a.qZA()),2&v){const g=p.$implicit;a.xp6(1),a.hij(" ",g.nombre," ")}}function _t(v,p){1&v&&(a.TgZ(0,"th",28),a._uU(1," Plantilla "),a.qZA())}function bt(v,p){if(1&v&&(a.TgZ(0,"td",25),a._uU(1),a.qZA()),2&v){const g=p.$implicit;a.xp6(1),a.hij(" ",g.plantilla.codigo," ")}}function wt(v,p){1&v&&(a.TgZ(0,"th",29),a._uU(1," Piscina "),a.qZA())}function Ft(v,p){if(1&v&&(a.TgZ(0,"td",25),a._uU(1),a.qZA()),2&v){const g=p.$implicit;a.xp6(1),a.hij(" ",g.piscina.codigo," ")}}function ht(v,p){1&v&&(a.TgZ(0,"th",30),a._uU(1," Acciones "),a.qZA())}function Dt(v,p){if(1&v){const g=a.EpF();a.TgZ(0,"td",25)(1,"div",0)(2,"button",31),a.NdJ("click",function(){const y=a.CHM(g).$implicit;return a.oxw().onOpenModalParameter(y)}),a._uU(3,"Editar"),a.qZA(),a.TgZ(4,"button",32),a.NdJ("click",function(){const y=a.CHM(g).$implicit;return a.oxw().onDeleteParam(y.id)}),a._uU(5,"Eliminar"),a.qZA()()()}}function Mt(v,p){1&v&&a._UZ(0,"tr",33)}function X(v,p){1&v&&a._UZ(0,"tr",34)}const st=[{path:"",component:(()=>{class v{constructor(g,c,f){this.poolService=g,this.parameterSvc=c,this._dialog=f,this.displayedColumns=["id","codigo","nombre","plantilla","piscina","acciones"],this.dataSource=new M.by,this.destroy$=new O.x,this.piscinas=[],this.selectedPool=null}ngOnDestroy(){this.destroy$.next({}),this.destroy$.complete()}getPiscinas(){this.poolService.getAll().subscribe(g=>{g.forEach(c=>{this.piscinas.push(c.codigo)}),this.piscinas.push("TODOS")})}filterParamByPool(){"TODOS"===this.selectedPool?this.loadParameters():this.parameterSvc.getByPool(this.selectedPool).subscribe(g=>{this.dataSource.data=g},g=>{x().fire({icon:"error",title:"Oops...",text:g.error.message})})}loadParameters(){this.parameterSvc.getAll().subscribe(g=>{this.dataSource.data=g})}ngOnInit(){this.loadParameters(),this.getPiscinas()}ngAfterViewInit(){this.dataSource.sort=this.sort}onDeleteParam(g){x().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir el cambio",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1S\xed, eliminar!"}).then(c=>{c.isConfirmed&&this.parameterSvc.delete(g).pipe((0,L.R)(this.destroy$)).subscribe(f=>{x().fire("\xa1Eliminado!",null==f?void 0:f.message,"success"),this.loadParameters()})})}onOpenModalParameter(g={}){this._dialog.open(xt,{height:"400px",width:"600px",data:{title:"Nuevo Parametro",parameter:g}}).afterClosed().subscribe(c=>{this.loadParameters()})}}return v.\u0275fac=function(g){return new(g||v)(a.Y36($.q),a.Y36(Q.y),a.Y36(F.uw))},v.\u0275cmp=a.Xpm({type:v,selectors:[["app-parameters"]],viewQuery:function(g,c){if(1&g&&a.Gf(l.YE,5),2&g){let f;a.iGM(f=a.CRH())&&(c.sort=f.first)}},decls:32,vars:6,consts:[[1,"table-button-row"],["mat-flat-button","","color","primary",1,"btn-new",3,"click"],["appearance","fill"],["name","pool",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",1,"btn-new",3,"disabled","click"],[1,"tableScroll"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by id",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","codigo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by codigo",4,"matHeaderCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre",4,"matHeaderCellDef"],["matColumnDef","plantilla"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by plantilla",4,"matHeaderCellDef"],["matColumnDef","piscina"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by piscina",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by id"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by codigo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by plantilla"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by piscina"],["mat-header-cell","","mat-sort-header",""],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(g,c){1&g&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(){return c.onOpenModalParameter()}),a._uU(2,"Agregar Parametro"),a.qZA(),a.TgZ(3,"mat-form-field",2)(4,"mat-label"),a._uU(5,"Piscinas"),a.qZA(),a.TgZ(6,"mat-select",3),a.NdJ("ngModelChange",function(y){return c.selectedPool=y}),a.YNc(7,it,2,2,"mat-option",4),a.qZA()(),a.TgZ(8,"button",5),a.NdJ("click",function(){return c.filterParamByPool()}),a._uU(9,"FILTRAR"),a.qZA()(),a.TgZ(10,"div",6)(11,"table",7),a.ynx(12,8),a.YNc(13,nt,2,0,"th",9),a.YNc(14,j,2,1,"td",10),a.BQk(),a.ynx(15,11),a.YNc(16,yt,2,0,"th",12),a.YNc(17,vt,2,1,"td",10),a.BQk(),a.ynx(18,13),a.YNc(19,At,2,0,"th",14),a.YNc(20,Ct,2,1,"td",10),a.BQk(),a.ynx(21,15),a.YNc(22,_t,2,0,"th",16),a.YNc(23,bt,2,1,"td",10),a.BQk(),a.ynx(24,17),a.YNc(25,wt,2,0,"th",18),a.YNc(26,Ft,2,1,"td",10),a.BQk(),a.ynx(27,19),a.YNc(28,ht,2,0,"th",20),a.YNc(29,Dt,6,0,"td",10),a.BQk(),a.YNc(30,Mt,1,0,"tr",21),a.YNc(31,X,1,0,"tr",22),a.qZA()()),2&g&&(a.xp6(6),a.Q6J("ngModel",c.selectedPool),a.xp6(1),a.Q6J("ngForOf",c.piscinas),a.xp6(1),a.Q6J("disabled",!c.selectedPool),a.xp6(3),a.Q6J("dataSource",c.dataSource),a.xp6(19),a.Q6J("matHeaderRowDef",c.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",c.displayedColumns))},directives:[rt.lW,N.KE,N.hX,z.gD,G.JJ,G.On,w.sg,lt.ey,M.BZ,l.YE,M.w1,M.fO,M.ge,l.nU,M.Dz,M.ev,M.as,M.XQ,M.nj,M.Gk],styles:["table[_ngcontent-%COMP%]{width:97%;margin:0 auto;margin-top:1rem}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}.btn-new[_ngcontent-%COMP%]{width:20%}.tableScroll[_ngcontent-%COMP%]{height:500px;max-width:97%;overflow:auto;margin:0 auto;margin-top:1rem}"]}),v})()}];let Et=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=a.oAB({type:v}),v.\u0275inj=a.cJS({imports:[[T.Bz.forChild(st)],T.Bz]}),v})();var Tt=h(520),Ot=h(4169);let Lt=(()=>{class v{}return v.\u0275fac=function(g){return new(g||v)},v.\u0275mod=a.oAB({type:v}),v.\u0275inj=a.cJS({imports:[[w.ez,Et,Ot.q,Tt.JF,G.UX,F.Is,z.LD,q.c,G.u5]]}),v})()},7154:(ut,Z,h)=>{h.d(Z,{s:()=>L});var w=h(2340),T=h(2843),l=h(262),M=h(5e3),O=h(520);let L=(()=>{class F{constructor(x){this.http=x}handlerError(x){let a="Error desconocido";return x&&(a=`Error ${x.message}`),window.alert(a),(0,T._)(a)}getAll(){return this.http.get(`${w.N.BASE_URL}/api`).pipe((0,l.K)(this.handlerError))}}return F.\u0275fac=function(x){return new(x||F)(M.LFG(O.eN))},F.\u0275prov=M.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},5402:(ut,Z,h)=>{h.d(Z,{y:()=>L});var w=h(262),T=h(2843),l=h(2340),M=h(5e3),O=h(520);let L=(()=>{class F{constructor(x){this.http=x}getAll(){return this.http.get(`${l.N.BASE_URL}/parameter`).pipe((0,w.K)(this.handlerError))}getByPool(x){return this.http.get(`${l.N.BASE_URL}/parameter/byPool/${x}`)}getByParam(x){return this.http.get(`${l.N.BASE_URL}/parameter/${x}`).pipe((0,w.K)(this.handlerError))}new(x){return this.http.post(`${l.N.BASE_URL}/parameter`,x).pipe((0,w.K)(this.handlerError))}newCensus(x,a){return this.http.get(`${l.N.BASE_URL}/parameter/census/${x}/${a}`).pipe((0,w.K)(this.handlerError))}update(x,a){return this.http.patch(`${l.N.BASE_URL}/parameter/${x}`,a).pipe((0,w.K)(this.handlerError))}delete(x){return this.http.delete(`${l.N.BASE_URL}/parameter/${x}`).pipe((0,w.K)(this.handlerError))}handlerError(x){let a="Error desconocido";return x&&(a=`Error ${x.message}`),window.alert(a),(0,T._)(a)}}return F.\u0275fac=function(x){return new(x||F)(M.LFG(O.eN))},F.\u0275prov=M.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},7477:(ut,Z,h)=>{h.d(Z,{q:()=>L});var w=h(2340),T=h(262),l=h(2843),M=h(5e3),O=h(520);let L=(()=>{class F{constructor(x){this.http=x}getAll(){return this.http.get(`${w.N.BASE_URL}/pool`).pipe((0,T.K)(this.handlerError))}getByNameandPool(x,a){return this.http.get(`${w.N.BASE_URL}/pool/${x}/${a}`)}new(x){return this.http.post(`${w.N.BASE_URL}/pool`,x).pipe((0,T.K)(this.handlerError))}update(x,a){return this.http.patch(`${w.N.BASE_URL}/pool/${x}`,a).pipe((0,T.K)(this.handlerError))}delete(x){return this.http.delete(`${w.N.BASE_URL}/pool/${x}`).pipe((0,T.K)(this.handlerError))}handlerError(x){let a="Error desconocido";return x&&(a=`Error ${x.message}`),window.alert(a),(0,l._)(a)}}return F.\u0275fac=function(x){return new(x||F)(M.LFG(O.eN))},F.\u0275prov=M.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},2119:(ut,Z,h)=>{h.d(Z,{E:()=>L});var w=h(262),T=h(2843),l=h(2340),M=h(5e3),O=h(520);let L=(()=>{class F{constructor(x){this.http=x}getAll(){return this.http.get(`${l.N.BASE_URL}/template`).pipe((0,w.K)(this.handlerError))}getById(x){return this.http.get(`${l.N.BASE_URL}/template/${x}`)}getByName(x){return this.http.get(`${l.N.BASE_URL}/template/byName/${x}`)}getTemplateByPool(x){return this.http.get(`${l.N.BASE_URL}/template/byPool/${x}`)}new(x){return this.http.post(`${l.N.BASE_URL}/template`,x).pipe((0,w.K)(this.handlerError))}update(x,a){return this.http.patch(`${l.N.BASE_URL}/template/${x}`,a).pipe((0,w.K)(this.handlerError))}delete(x){return this.http.delete(`${l.N.BASE_URL}/template/${x}`).pipe((0,w.K)(this.handlerError))}handlerError(x){let a="Error desconocido";return x&&(a=`Error ${x.message}`),window.alert(a),(0,T._)(a)}}return F.\u0275fac=function(x){return new(x||F)(M.LFG(O.eN))},F.\u0275prov=M.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},1058:(ut,Z,h)=>{h.d(Z,{K:()=>L});var w=h(2843),T=h(2340),l=h(262),M=h(5e3),O=h(520);let L=(()=>{class F{constructor(x){this.http=x}getAll(){return this.http.get(`${T.N.BASE_URL}/user`).pipe((0,l.K)(this.handlerError))}getById(x){return this.http.get(`${T.N.BASE_URL}/user/${x}`)}new(x){return this.http.post(`${T.N.BASE_URL}/user`,x)}update(x,a){return this.http.patch(`${T.N.BASE_URL}/user/${x}`,a)}delete(x){return this.http.delete(`${T.N.BASE_URL}/user/${x}`).pipe((0,l.K)(this.handlerError))}handlerError(x){let a="Error desconocido";return x&&(a=`Error ${x.message}`),window.alert(a),(0,w._)(a)}}return F.\u0275fac=function(x){return new(x||F)(M.LFG(O.eN))},F.\u0275prov=M.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},1570:(ut,Z,h)=>{h.r(Z),h.d(Z,{TemplateModule:()=>v});var w=h(9808),T=h(520),l=h(4169),M=h(1083),O=h(4847),L=h(8279),F=h(7579),o=h(2722),x=h(8966),a=h(5226),Q=h.n(a),d=h(5e3),$=h(7154),G=h(2119),_=h(3075);let et=(()=>{class p{constructor(c){this.fb=c,this._isNumber=/^([0-9])*$/,this.errorMessage=null,this.baseForm=this.fb.group({codigo:["",[_.kI.required,_.kI.minLength(6)]],nombre:["",[_.kI.required,_.kI.minLength(2)]],valor_maximo:["",[_.kI.required,_.kI.pattern(this._isNumber)]],valor_minimo:["",[_.kI.required,_.kI.pattern(this._isNumber)]]})}isValidField(c){var f,y,b;return this.getErrorMessage(c),((null===(f=this.baseForm.get(c))||void 0===f?void 0:f.touched)||(null===(y=this.baseForm.get(c))||void 0===y?void 0:y.dirty))&&!(null===(b=this.baseForm.get(c))||void 0===b?void 0:b.valid)}getErrorMessage(c){var f;const{errors:y}=this.baseForm.get(c);if(y){const E={required:"Campo requerido",pattern:"Debe ingresar un numero",minLength:`Debe tener minimo ${null===(f=null==y?void 0:y.minlength)||void 0===f?void 0:f.requiredLength} caracteres`},B=Object.keys(y).find(Boolean);this.errorMessage=E[B]}}}return p.\u0275fac=function(c){return new(c||p)(d.LFG(_.qu))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var N=h(7322),q=h(7531),z=h(4107),lt=h(508),rt=h(7423);function gt(p,g){if(1&p&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&p){const c=d.oxw();d.xp6(1),d.hij(" ",c.templateForm.errorMessage," ")}}function ct(p,g){if(1&p&&(d.TgZ(0,"mat-option",14),d._uU(1),d.qZA()),2&p){const c=g.$implicit;d.Q6J("value",c),d.xp6(1),d.Oqu(c)}}function mt(p,g){if(1&p&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&p){const c=d.oxw();d.xp6(1),d.hij(" ",c.templateForm.errorMessage," ")}}function ft(p,g){if(1&p&&(d.TgZ(0,"mat-error"),d._uU(1),d.qZA()),2&p){const c=d.oxw();d.xp6(1),d.hij(" ",c.templateForm.errorMessage," ")}}var P=(()=>{return(p=P||(P={})).EDIT="edit",p.NEW="new",P;var p})();let xt=(()=>{class p{constructor(c,f,y,b){this.data=c,this.apiSvc=f,this.templateSvc=y,this.templateForm=b,this.actionTODO=P.NEW,this.nombreParametrosApi=[]}ngOnInit(){var c;this.llamarNombres(),(null===(c=this.data)||void 0===c?void 0:c.template.hasOwnProperty("id"))?(this.actionTODO=P.EDIT,this.pathFormData(),this.data.title="Editar Plantilla"):(this.templateForm.baseForm.markAsUntouched(),this.templateForm.baseForm.get("nombre").setValue(null),this.templateForm.baseForm.get("codigo").setValue(null),this.templateForm.baseForm.get("valor_maximo").setValue(null),this.templateForm.baseForm.get("valor_minimo").setValue(null),this.templateForm.baseForm.updateValueAndValidity())}llamarNombres(){this.apiSvc.getAll().subscribe(c=>{this.nombreParametrosApi=Object.keys(c)})}onSaveTemplate(){var c,f;const y=this.templateForm.baseForm.value;if(this.actionTODO===P.NEW)this.templateSvc.new(y).subscribe(b=>{Q().fire({position:"center",icon:"success",title:b.message,showConfirmButton:!1,timer:1500})});else{const b=null===(f=null===(c=this.data)||void 0===c?void 0:c.template)||void 0===f?void 0:f.id;this.templateSvc.update(b,y).subscribe(E=>{Q().fire({position:"center",icon:"success",title:E.message,showConfirmButton:!1,timer:1e3})})}}checkField(c){return this.templateForm.isValidField(c)}pathFormData(){var c,f,y,b,E,B,J,W,K,kt;this.templateForm.baseForm.patchValue({codigo:null===(f=null===(c=this.data)||void 0===c?void 0:c.template)||void 0===f?void 0:f.codigo,nombre:null===(b=null===(y=this.data)||void 0===y?void 0:y.template)||void 0===b?void 0:b.nombre,parametros:null===(B=null===(E=this.data)||void 0===E?void 0:E.template)||void 0===B?void 0:B.parametros,valor_maximo:null===(W=null===(J=this.data)||void 0===J?void 0:J.template)||void 0===W?void 0:W.valor_maximo,valor_minimo:null===(kt=null===(K=this.data)||void 0===K?void 0:K.template)||void 0===kt?void 0:kt.valor_minimo})}}return p.\u0275fac=function(c){return new(c||p)(d.Y36(x.WI),d.Y36($.s),d.Y36(G.E),d.Y36(et))},p.\u0275cmp=d.Xpm({type:p,selectors:[["app-modal-template"]],decls:24,vars:7,consts:[["mat-dialog-title",""],[1,"modal-form"],[3,"formGroup"],[1,"full-width-input"],["formControlName","codigo","matInput","","placeholder","codigo","required",""],[4,"ngIf"],["appearance","fill",1,"full-width-input"],["formControlName","nombre","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","valor_maximo","matInput","","placeholder","valor maximo","required",""],["formControlName","valor_minimo","matInput","","placeholder","valor minimo","required",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"mat-dialog-close","click"],[3,"value"]],template:function(c,f){1&c&&(d.TgZ(0,"h2",0),d._uU(1),d.qZA(),d.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"form",2)(5,"mat-form-field",3),d._UZ(6,"input",4),d.YNc(7,gt,2,1,"mat-error",5),d.qZA(),d.TgZ(8,"mat-form-field",6)(9,"mat-label"),d._uU(10,"nombre"),d.qZA(),d.TgZ(11,"mat-select",7),d.YNc(12,ct,2,2,"mat-option",8),d.qZA()(),d.TgZ(13,"mat-form-field",3),d._UZ(14,"input",9),d.YNc(15,mt,2,1,"mat-error",5),d.qZA(),d.TgZ(16,"mat-form-field",3),d._UZ(17,"input",10),d.YNc(18,ft,2,1,"mat-error",5),d.qZA()()()(),d.TgZ(19,"mat-dialog-actions",11)(20,"button",12),d._uU(21,"Cancelar "),d.qZA(),d.TgZ(22,"button",13),d.NdJ("click",function(){return f.onSaveTemplate()}),d._uU(23," Guardar "),d.qZA()()),2&c&&(d.xp6(1),d.hij(" ",null==f.data?null:f.data.title,""),d.xp6(3),d.Q6J("formGroup",f.templateForm.baseForm),d.xp6(3),d.Q6J("ngIf",f.checkField("codigo")),d.xp6(5),d.Q6J("ngForOf",f.nombreParametrosApi),d.xp6(3),d.Q6J("ngIf",f.checkField("valor_maximo")),d.xp6(3),d.Q6J("ngIf",f.checkField("valor_minimo")),d.xp6(4),d.Q6J("mat-dialog-close",!0))},directives:[x.uh,x.xY,_._Y,_.JL,_.sg,N.KE,_.Fj,q.Nt,_.JJ,_.u,_.Q7,w.O5,N.TO,N.hX,z.gD,w.sg,lt.ey,x.H8,rt.lW,x.ZT],styles:[".modal-form[_ngcontent-%COMP%]{padding:1rem 0}.full-width-input[_ngcontent-%COMP%]{width:100%}"]}),p})();function it(p,g){if(1&p&&(d.TgZ(0,"mat-option",24),d._uU(1),d.qZA()),2&p){const c=g.$implicit;d.Q6J("value",c),d.xp6(1),d.Oqu(c)}}function nt(p,g){1&p&&(d.TgZ(0,"th",25),d._uU(1," No. "),d.qZA())}function j(p,g){if(1&p&&(d.TgZ(0,"td",26),d._uU(1),d.qZA()),2&p){const c=g.index;d.xp6(1),d.hij(" ",c+1," ")}}function yt(p,g){1&p&&(d.TgZ(0,"th",27),d._uU(1," Codigo "),d.qZA())}function vt(p,g){if(1&p&&(d.TgZ(0,"td",26),d._uU(1),d.qZA()),2&p){const c=g.$implicit;d.xp6(1),d.hij(" ",c.codigo," ")}}function At(p,g){1&p&&(d.TgZ(0,"th",28),d._uU(1," Nombre "),d.qZA())}function Ct(p,g){if(1&p&&(d.TgZ(0,"td",26),d._uU(1),d.qZA()),2&p){const c=g.$implicit;d.xp6(1),d.hij(" ",c.nombre," ")}}function _t(p,g){1&p&&(d.TgZ(0,"th",29),d._uU(1," Parametros "),d.qZA())}function bt(p,g){if(1&p&&(d.TgZ(0,"mat-option"),d._uU(1),d.qZA()),2&p){const c=g.$implicit;d.xp6(1),d.Oqu(c.codigo)}}function wt(p,g){if(1&p&&(d.TgZ(0,"td",26)(1,"mat-dialog-content")(2,"div",30)(3,"mat-form-field",31)(4,"mat-label"),d._uU(5,"Codigo"),d.qZA(),d.TgZ(6,"mat-select"),d.YNc(7,bt,2,1,"mat-option",32),d.qZA()()()()()),2&p){const c=g.$implicit;d.xp6(7),d.Q6J("ngForOf",c.parametros)}}function Ft(p,g){1&p&&(d.TgZ(0,"th",33),d._uU(1," Valor-Maximo "),d.qZA())}function ht(p,g){if(1&p&&(d.TgZ(0,"td",26),d._uU(1),d.qZA()),2&p){const c=g.$implicit;d.xp6(1),d.hij(" ",c.valor_maximo," ")}}function Dt(p,g){1&p&&(d.TgZ(0,"th",34),d._uU(1," Valor-Minimo "),d.qZA())}function Mt(p,g){if(1&p&&(d.TgZ(0,"td",26),d._uU(1),d.qZA()),2&p){const c=g.$implicit;d.xp6(1),d.hij(" ",c.valor_minimo," ")}}function X(p,g){1&p&&(d.TgZ(0,"th",29),d._uU(1," Acciones "),d.qZA())}function St(p,g){if(1&p){const c=d.EpF();d.TgZ(0,"td",26)(1,"div",0)(2,"button",35),d.NdJ("click",function(){const b=d.CHM(c).$implicit;return d.oxw().onOpenModalTemplate(b)}),d._uU(3,"Editar"),d.qZA(),d.TgZ(4,"button",36),d.NdJ("click",function(){const b=d.CHM(c).$implicit;return d.oxw().onDeleteTemplate(b.id)}),d._uU(5,"Eliminar"),d.qZA()()()}}function st(p,g){1&p&&d._UZ(0,"tr",37)}function Et(p,g){1&p&&d._UZ(0,"tr",38)}const Ot=[{path:"",component:(()=>{class p{constructor(c,f,y){this.templateSvc=c,this._dialog=f,this.apiSvc=y,this.displayedColumns=["id","nombre","codigo","verParametros","valor_maximo","valor_minimo","acciones"],this.dataSource=new L.by,this.destroy$=new F.x,this.selectedParam=null,this.parametrosApi=[]}loadTemplates(){this.templateSvc.getAll().subscribe(c=>{this.dataSource.data=c})}loadParamsApi(){this.apiSvc.getAll().subscribe(c=>{let f=Object.keys(c);this.parametrosApi.push(f),this.parametrosApi[0].push("TODOS")})}ngOnDestroy(){this.destroy$.next({}),this.destroy$.complete()}ngOnInit(){this.loadTemplates(),this.loadParamsApi()}filterParam(){"TODOS"===this.selectedParam?this.loadTemplates():this.templateSvc.getByName(this.selectedParam).subscribe(c=>{this.dataSource.data=c})}ngAfterViewInit(){this.dataSource.sort=this.sort}onDeleteTemplate(c){Q().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir el cambio",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1S\xed, eliminar!"}).then(f=>{f.isConfirmed&&this.templateSvc.delete(c).pipe((0,o.R)(this.destroy$)).subscribe(y=>{Q().fire("\xa1Eliminado!",null==y?void 0:y.message,"success"),this.loadTemplates()})})}onOpenModalTemplate(c={}){this._dialog.open(xt,{height:"400px",width:"600px",data:{title:"Nuevo Parametro",template:c}}).afterClosed().subscribe(f=>{this.loadTemplates()})}}return p.\u0275fac=function(c){return new(c||p)(d.Y36(G.E),d.Y36(x.uw),d.Y36($.s))},p.\u0275cmp=d.Xpm({type:p,selectors:[["app-template"]],viewQuery:function(c,f){if(1&c&&d.Gf(O.YE,5),2&c){let y;d.iGM(y=d.CRH())&&(f.sort=y.first)}},decls:35,vars:6,consts:[[1,"table-button-row"],["mat-flat-button","","color","primary",1,"btn-new",3,"click"],["appearance","fill"],["name","param",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",1,"btn-new",3,"disabled","click"],[1,"tableScroll"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by id",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","codigo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by codigo",4,"matHeaderCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre",4,"matHeaderCellDef"],["matColumnDef","verParametros"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","valor_maximo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by valor_maximo",4,"matHeaderCellDef"],["matColumnDef","valor_minimo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by valor_minimo",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by id"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by codigo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre"],["mat-header-cell","","mat-sort-header",""],[1,"modal-form"],[1,"full-width-input"],[4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by valor_maximo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by valor_minimo"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(c,f){1&c&&(d.TgZ(0,"div",0)(1,"button",1),d.NdJ("click",function(){return f.onOpenModalTemplate()}),d._uU(2,"Agregar Plantilla"),d.qZA(),d.TgZ(3,"mat-form-field",2)(4,"mat-label"),d._uU(5,"Parametros"),d.qZA(),d.TgZ(6,"mat-select",3),d.NdJ("ngModelChange",function(b){return f.selectedParam=b}),d.YNc(7,it,2,2,"mat-option",4),d.qZA()(),d.TgZ(8,"button",5),d.NdJ("click",function(){return f.filterParam()}),d._uU(9,"FILTRAR"),d.qZA()(),d.TgZ(10,"div",6)(11,"table",7),d.ynx(12,8),d.YNc(13,nt,2,0,"th",9),d.YNc(14,j,2,1,"td",10),d.BQk(),d.ynx(15,11),d.YNc(16,yt,2,0,"th",12),d.YNc(17,vt,2,1,"td",10),d.BQk(),d.ynx(18,13),d.YNc(19,At,2,0,"th",14),d.YNc(20,Ct,2,1,"td",10),d.BQk(),d.ynx(21,15),d.YNc(22,_t,2,0,"th",16),d.YNc(23,wt,8,1,"td",10),d.BQk(),d.ynx(24,17),d.YNc(25,Ft,2,0,"th",18),d.YNc(26,ht,2,1,"td",10),d.BQk(),d.ynx(27,19),d.YNc(28,Dt,2,0,"th",20),d.YNc(29,Mt,2,1,"td",10),d.BQk(),d.ynx(30,21),d.YNc(31,X,2,0,"th",16),d.YNc(32,St,6,0,"td",10),d.BQk(),d.YNc(33,st,1,0,"tr",22),d.YNc(34,Et,1,0,"tr",23),d.qZA()()),2&c&&(d.xp6(6),d.Q6J("ngModel",f.selectedParam),d.xp6(1),d.Q6J("ngForOf",f.parametrosApi[0]),d.xp6(1),d.Q6J("disabled",!f.selectedParam),d.xp6(3),d.Q6J("dataSource",f.dataSource),d.xp6(22),d.Q6J("matHeaderRowDef",f.displayedColumns),d.xp6(1),d.Q6J("matRowDefColumns",f.displayedColumns))},directives:[rt.lW,N.KE,N.hX,z.gD,_.JJ,_.On,w.sg,lt.ey,L.BZ,O.YE,L.w1,L.fO,L.ge,O.nU,L.Dz,L.ev,x.xY,L.as,L.XQ,L.nj,L.Gk],styles:["table[_ngcontent-%COMP%]{width:97%;margin:0 auto;overflow:auto;margin-top:1rem}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}.btn-new[_ngcontent-%COMP%]{width:20%}.tableScroll[_ngcontent-%COMP%]{height:500px;max-width:97%;overflow:auto;margin:0 auto;margin-top:1rem}"]}),p})()},{path:"template",loadChildren:()=>Promise.resolve().then(h.bind(h,1570)).then(p=>p.TemplateModule)}];let Lt=(()=>{class p{}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({imports:[[M.Bz.forChild(Ot)],M.Bz]}),p})(),v=(()=>{class p{}return p.\u0275fac=function(c){return new(c||p)},p.\u0275mod=d.oAB({type:p}),p.\u0275inj=d.cJS({imports:[[w.ez,Lt,l.q,T.JF,_.UX,l.q,x.Is,z.LD,_.u5]]}),p})()},5007:(ut,Z,h)=>{h.r(Z),h.d(Z,{UsersModule:()=>p});var w=h(9808),T=h(1083),l=h(4847),M=h(8279),O=h(8966),L=h(5226),F=h.n(L),o=h(5e3),x=h(357),a=h(1058),Q=h(7477),d=h(3075),$=h(7322),G=h(7531),_=h(7423),et=h(5245),N=h(4107),q=h(508);function z(g,c){if(1&g&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&g){const f=o.oxw();o.xp6(1),o.hij(" ",f.userForm.errorMessage," ")}}function lt(g,c){if(1&g&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&g){const f=o.oxw();o.xp6(1),o.hij(" ",f.userForm.errorMessage," ")}}function rt(g,c){if(1&g&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&g){const f=o.oxw(2);o.xp6(1),o.hij(" ",f.userForm.errorMessage," ")}}function gt(g,c){if(1&g){const f=o.EpF();o.TgZ(0,"mat-form-field",3),o._UZ(1,"input",16),o.TgZ(2,"button",17),o.NdJ("click",function(){o.CHM(f);const b=o.oxw();return b.hide=!b.hide}),o.TgZ(3,"mat-icon"),o._uU(4),o.qZA()(),o.YNc(5,rt,2,1,"mat-error",5),o.qZA()}if(2&g){const f=o.oxw();o.xp6(1),o.Q6J("type",f.hide?"password":"text"),o.xp6(3),o.Oqu(f.hide?"visibility_off":"visibility"),o.xp6(1),o.Q6J("ngIf",f.checkField("clave"))}}function ct(g,c){if(1&g&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&g){const f=o.oxw();o.xp6(1),o.hij(" ",f.userForm.errorMessage," ")}}function mt(g,c){if(1&g&&(o.TgZ(0,"mat-option",18),o._uU(1),o.qZA()),2&g){const f=c.$implicit;o.Q6J("value",f.id),o.xp6(1),o.Oqu(f.codigo)}}function ft(g,c){if(1&g&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&g){const f=o.oxw();o.xp6(1),o.hij(" ",f.userForm.errorMessage," ")}}var P=(()=>{return(g=P||(P={})).EDIT="edit",g.NEW="new",P;var g})();let xt=(()=>{class g{constructor(f,y,b,E){this.data=f,this.userForm=y,this.userSvc=b,this.poolSvc=E,this.actionTODO=P.NEW,this.showPasswordField=!0,this.showRole=!1,this.hide=!0,this.selected=[],this.piscinasDisponibles=[]}ngOnInit(){var f;this.llamarPiscinas(),(null===(f=this.data)||void 0===f?void 0:f.user.hasOwnProperty("id"))?(this.actionTODO=P.EDIT,this.pathFormData(),this.showPasswordField=!1,this.data.title="Editar Usuario",this.userForm.baseForm.get("clave").setValidators(null),this.userForm.baseForm.updateValueAndValidity()):(this.showRole=!0,this.userForm.baseForm.markAsUntouched(),this.userForm.baseForm.get("nombre").setValue(null),this.userForm.baseForm.get("clave").setValue(null),this.userForm.baseForm.get("email").setValue(null),this.userForm.baseForm.get("rol").setValue(null),this.userForm.baseForm.get("piscinas").setValue(null),this.userForm.baseForm.updateValueAndValidity())}llamarPiscinas(){this.poolSvc.getAll().subscribe(f=>{this.piscinasDisponibles=f,f.forEach(y=>{y.usuarios.forEach(b=>{var E,B;b.id===(null===(B=null===(E=this.data)||void 0===E?void 0:E.user)||void 0===B?void 0:B.id)&&this.selected.push(y.id)})})})}onSave(){var f,y;const b=this.userForm.baseForm.value;if(this.actionTODO===P.NEW)this.userSvc.new(b).subscribe(E=>{F().fire({position:"center",icon:"success",title:E.message,showConfirmButton:!1,timer:1500})},E=>{F().fire({icon:"error",title:"Oops...",text:E.error.message})});else{const E=null===(y=null===(f=this.data)||void 0===f?void 0:f.user)||void 0===y?void 0:y.id;this.userSvc.update(E,b).subscribe(B=>{F().fire({position:"center",icon:"success",title:B.message,showConfirmButton:!1,timer:1e3})},B=>{F().fire({icon:"error",title:"Oops...",text:B.error.message})})}}checkField(f){return this.userForm.isValidField(f)}pathFormData(){var f,y,b,E,B,J,W,K;this.userForm.baseForm.patchValue({nombre:null===(y=null===(f=this.data)||void 0===f?void 0:f.user)||void 0===y?void 0:y.nombre,email:null===(E=null===(b=this.data)||void 0===b?void 0:b.user)||void 0===E?void 0:E.email,rol:null===(J=null===(B=this.data)||void 0===B?void 0:B.user)||void 0===J?void 0:J.rol,piscinas:null===(K=null===(W=this.data)||void 0===W?void 0:W.user)||void 0===K?void 0:K.piscinas})}}return g.\u0275fac=function(f){return new(f||g)(o.Y36(O.WI),o.Y36(x.h),o.Y36(a.K),o.Y36(Q.q))},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-modal"]],decls:32,vars:11,consts:[["mat-dialog-title",""],[1,"modal-form"],[3,"formGroup"],[1,"full-width-input"],["formControlName","nombre","matInput","","placeholder","nombre","required",""],[4,"ngIf"],["formControlName","email","matInput","","placeholder","email","required",""],["class","full-width-input",4,"ngIf"],["formControlName","rol"],["value","supervisor"],["value","operador"],["formControlName","piscinas","multiple","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"disabled","mat-dialog-close","click"],["formControlName","clave","matInput","","placeholder","clave","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[3,"value"]],template:function(f,y){1&f&&(o.TgZ(0,"h2",0),o._uU(1),o.qZA(),o.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"form",2)(5,"mat-form-field",3),o._UZ(6,"input",4),o.YNc(7,z,2,1,"mat-error",5),o.qZA(),o.TgZ(8,"mat-form-field",3),o._UZ(9,"input",6),o.YNc(10,lt,2,1,"mat-error",5),o.qZA(),o.YNc(11,gt,6,3,"mat-form-field",7),o.TgZ(12,"mat-form-field",3)(13,"mat-label"),o._uU(14,"Cargo"),o.qZA(),o.TgZ(15,"mat-select",8)(16,"mat-option",9),o._uU(17,"Supervisor"),o.qZA(),o.TgZ(18,"mat-option",10),o._uU(19,"Operador"),o.qZA()(),o.YNc(20,ct,2,1,"mat-error",5),o.qZA(),o.TgZ(21,"mat-form-field",3)(22,"mat-label"),o._uU(23,"Piscinas (operador*)"),o.qZA(),o.TgZ(24,"mat-select",11),o.NdJ("ngModelChange",function(E){return y.selected=E}),o.YNc(25,mt,2,2,"mat-option",12),o.qZA(),o.YNc(26,ft,2,1,"mat-error",5),o.qZA()()()(),o.TgZ(27,"mat-dialog-actions",13)(28,"button",14),o._uU(29,"Cancelar "),o.qZA(),o.TgZ(30,"button",15),o.NdJ("click",function(){return y.onSave()}),o._uU(31," Guardar "),o.qZA()()),2&f&&(o.xp6(1),o.hij(" ",null==y.data?null:y.data.title,""),o.xp6(3),o.Q6J("formGroup",y.userForm.baseForm),o.xp6(3),o.Q6J("ngIf",y.checkField("nombre")),o.xp6(3),o.Q6J("ngIf",y.checkField("email")),o.xp6(1),o.Q6J("ngIf",y.showPasswordField),o.xp6(9),o.Q6J("ngIf",y.checkField("rol")),o.xp6(4),o.Q6J("ngModel",y.selected),o.xp6(1),o.Q6J("ngForOf",y.piscinasDisponibles),o.xp6(1),o.Q6J("ngIf",y.checkField("piscinas")),o.xp6(4),o.Q6J("disabled",y.userForm.baseForm.invalid)("mat-dialog-close",!0))},directives:[O.uh,O.xY,d._Y,d.JL,d.sg,$.KE,d.Fj,G.Nt,d.JJ,d.u,d.Q7,w.O5,$.TO,_.lW,$.R9,et.Hw,$.hX,N.gD,q.ey,w.sg,O.H8,O.ZT],styles:[".modal-form[_ngcontent-%COMP%]{padding:1rem 0}.full-width-input[_ngcontent-%COMP%]{width:100%}"]}),g})();var it=h(7579),nt=h(2722);function j(g,c){1&g&&(o.TgZ(0,"th",18),o._uU(1," No. "),o.qZA())}function yt(g,c){if(1&g&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&g){const f=c.index;o.xp6(1),o.hij(" ",f+1,"")}}function vt(g,c){1&g&&(o.TgZ(0,"th",20),o._uU(1," Rol "),o.qZA())}function At(g,c){if(1&g&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&g){const f=c.$implicit;o.xp6(1),o.hij(" ",f.rol," ")}}function Ct(g,c){1&g&&(o.TgZ(0,"th",21),o._uU(1," Nombre "),o.qZA())}function _t(g,c){if(1&g&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&g){const f=c.$implicit;o.xp6(1),o.hij(" ",f.nombre," ")}}function bt(g,c){1&g&&(o.TgZ(0,"th",22),o._uU(1," Email "),o.qZA())}function wt(g,c){if(1&g&&(o.TgZ(0,"td",19),o._uU(1),o.qZA()),2&g){const f=c.$implicit;o.xp6(1),o.hij(" ",f.email," ")}}function Ft(g,c){1&g&&(o.TgZ(0,"th",23),o._uU(1," Piscinas "),o.qZA())}function ht(g,c){if(1&g&&(o.TgZ(0,"mat-option"),o._uU(1),o.qZA()),2&g){const f=c.$implicit;o.xp6(1),o.Oqu(f.codigo)}}function Dt(g,c){if(1&g&&(o.TgZ(0,"td",19)(1,"mat-dialog-content")(2,"div",24)(3,"mat-form-field",25)(4,"mat-label"),o._uU(5,"Codigo"),o.qZA(),o.TgZ(6,"mat-select"),o.YNc(7,ht,2,1,"mat-option",26),o.qZA()()()()()),2&g){const f=c.$implicit;o.xp6(7),o.Q6J("ngForOf",f.piscinas)}}function Mt(g,c){1&g&&(o.TgZ(0,"th",23),o._uU(1," Acciones "),o.qZA())}function X(g,c){if(1&g){const f=o.EpF();o.TgZ(0,"td",19)(1,"div",0)(2,"button",27),o.NdJ("click",function(){const E=o.CHM(f).$implicit;return o.oxw().onOpenModal(E)}),o._uU(3,"Editar"),o.qZA(),o.TgZ(4,"button",28),o.NdJ("click",function(){const E=o.CHM(f).$implicit;return o.oxw().onDelete(E.id)}),o._uU(5,"Eliminar"),o.qZA()()()}}function St(g,c){1&g&&o._UZ(0,"tr",29)}function st(g,c){1&g&&o._UZ(0,"tr",30)}const Tt=[{path:"",component:(()=>{class g{constructor(f,y){this.userSvc=f,this._dialog=y,this.displayedColumns=["id","rol","nombre","email","piscinas","acciones"],this.dataSource=new M.by,this.destroy$=new it.x}loadUsers(){this.userSvc.getAll().subscribe(f=>{this.dataSource.data=f})}ngOnDestroy(){this.destroy$.next({}),this.destroy$.complete()}ngOnInit(){this.loadUsers()}ngAfterViewInit(){this.dataSource.sort=this.sort}onDelete(f){F().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir el cambio",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1S\xed, eliminar!"}).then(y=>{y.isConfirmed&&this.userSvc.delete(f).pipe((0,nt.R)(this.destroy$)).subscribe(b=>{F().fire("\xa1Eliminado!",null==b?void 0:b.message,"success"),this.loadUsers()})})}onOpenModal(f={}){this._dialog.open(xt,{height:"400px",width:"600px",data:{title:"Nuevo usuario",user:f},disableClose:!0}).afterClosed().subscribe(y=>{this.loadUsers()})}}return g.\u0275fac=function(f){return new(f||g)(o.Y36(a.K),o.Y36(O.uw))},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-users"]],viewQuery:function(f,y){if(1&f&&o.Gf(l.YE,5),2&f){let b;o.iGM(b=o.CRH())&&(y.sort=b.first)}},decls:25,vars:3,consts:[[1,"table-button-row"],["mat-flat-button","","color","primary",1,"btn-new",3,"click"],[1,"tableScroll"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rol"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by rol",4,"matHeaderCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre",4,"matHeaderCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by email",4,"matHeaderCellDef"],["matColumnDef","piscinas"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by rol"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by email"],["mat-header-cell","","mat-sort-header",""],[1,"modal-form"],[1,"full-width-input"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(f,y){1&f&&(o.TgZ(0,"div",0)(1,"button",1),o.NdJ("click",function(){return y.onOpenModal()}),o._uU(2,"Agregar Usuario"),o.qZA()(),o.TgZ(3,"div",2)(4,"table",3),o.ynx(5,4),o.YNc(6,j,2,0,"th",5),o.YNc(7,yt,2,1,"td",6),o.BQk(),o.ynx(8,7),o.YNc(9,vt,2,0,"th",8),o.YNc(10,At,2,1,"td",6),o.BQk(),o.ynx(11,9),o.YNc(12,Ct,2,0,"th",10),o.YNc(13,_t,2,1,"td",6),o.BQk(),o.ynx(14,11),o.YNc(15,bt,2,0,"th",12),o.YNc(16,wt,2,1,"td",6),o.BQk(),o.ynx(17,13),o.YNc(18,Ft,2,0,"th",14),o.YNc(19,Dt,8,1,"td",6),o.BQk(),o.ynx(20,15),o.YNc(21,Mt,2,0,"th",14),o.YNc(22,X,6,0,"td",6),o.BQk(),o.YNc(23,St,1,0,"tr",16),o.YNc(24,st,1,0,"tr",17),o.qZA()()),2&f&&(o.xp6(4),o.Q6J("dataSource",y.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",y.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",y.displayedColumns))},directives:[_.lW,M.BZ,l.YE,M.w1,M.fO,M.ge,l.nU,M.Dz,M.ev,O.xY,$.KE,$.hX,N.gD,w.sg,q.ey,M.as,M.XQ,M.nj,M.Gk],styles:["table[_ngcontent-%COMP%]{width:97%;margin:0 auto;margin-top:1rem}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}.btn-new[_ngcontent-%COMP%]{width:20%}.tableScroll[_ngcontent-%COMP%]{height:500px;max-width:97%;overflow:auto;margin:0 auto;margin-top:1rem}"]}),g})()}];let Ot=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275mod=o.oAB({type:g}),g.\u0275inj=o.cJS({imports:[[T.Bz.forChild(Tt)],T.Bz]}),g})();var Lt=h(520),v=h(4169);let p=(()=>{class g{}return g.\u0275fac=function(f){return new(f||g)},g.\u0275mod=o.oAB({type:g}),g.\u0275inj=o.cJS({imports:[[w.ez,Ot,v.q,Lt.JF,d.UX,v.q,O.Is,N.LD]]}),g})()}}]);