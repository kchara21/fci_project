"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[801],{801:(ct,Z,m)=>{m.r(Z),m.d(Z,{AdminModule:()=>Cl});var w=m(9808),O=m(1083),l=m(5e3),S=m(7890),L=m(8279),R=m(4847),F=m(5226),a=m.n(F),y=m(3075),o=m(8966),V=m(7322),u=m(7531),j=m(7423);let P=(()=>{class e{constructor(t,i){this.fb=t,this.dialogRef=i,this.censusDate=this.fb.group({horasEncendido:["",y.kI.required],minutosEncendido:["",y.kI.required],horasFrecuencia:["",y.kI.required],minutosFrecuencia:["",y.kI.required]})}ngOnInit(){}onSave(){this.dialogRef.close(this.censusDate.value)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(y.qu),l.Y36(o.so))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-modal-time-census"]],decls:30,vars:7,consts:[[1,"modal-form"],[1,"exampleForm",3,"formGroup"],["appearance","fill","required","",1,"full-width-input"],["formControlName","horasEncendido","type","number","min","0","matInput",""],["formControlName","minutosEncendido","min","0","type","number","matInput",""],["formControlName","horasFrecuencia","min","0","type","number","matInput",""],["formControlName","minutosFrecuencia","min","0.05","type","number","matInput",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"disabled","mat-dialog-close","click"]],template:function(t,i){1&t&&(l.TgZ(0,"mat-dialog-content")(1,"div",0)(2,"form",1)(3,"div")(4,"p"),l._uU(5),l.qZA(),l.TgZ(6,"mat-form-field",2)(7,"mat-label"),l._uU(8,"Horas"),l.qZA(),l._UZ(9,"input",3),l.qZA(),l.TgZ(10,"mat-form-field",2)(11,"mat-label"),l._uU(12,"Minutos"),l.qZA(),l._UZ(13,"input",4),l.qZA()(),l.TgZ(14,"div")(15,"p"),l._uU(16),l.qZA(),l.TgZ(17,"mat-form-field",2)(18,"mat-label"),l._uU(19,"Horas"),l.qZA(),l._UZ(20,"input",5),l.qZA(),l.TgZ(21,"mat-form-field",2)(22,"mat-label"),l._uU(23,"Minutos"),l.qZA(),l._UZ(24,"input",6),l.qZA()()()()(),l.TgZ(25,"mat-dialog-actions",7)(26,"button",8),l._uU(27,"Cancelar "),l.qZA(),l.TgZ(28,"button",9),l.NdJ("click",function(){return i.onSave()}),l._uU(29," Censar "),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("formGroup",i.censusDate),l.xp6(3),l.AsE("TIEMPO ENCENDIDO: ",60*i.censusDate.value.horasEncendido,"min. con ",60*i.censusDate.value.minutosEncendido,"seg."),l.xp6(11),l.AsE("FRECUENCIA: Cada ",60*i.censusDate.value.horasFrecuencia,"min. con ",60*i.censusDate.value.minutosFrecuencia,"seg. "),l.xp6(12),l.Q6J("disabled",i.censusDate.invalid)("mat-dialog-close",!0))},directives:[o.xY,y._Y,y.JL,y.sg,V.KE,V.hX,y.Fj,y.wV,y.qQ,u.Nt,y.JJ,y.u,o.H8,j.lW,o.ZT],styles:[".modal-form[_ngcontent-%COMP%]{padding:1rem 0}.full-width-input[_ngcontent-%COMP%]{width:40%;margin:15px}.full-width-Freq[_ngcontent-%COMP%]{width:20%;margin:10px}.p[_ngcontent-%COMP%]{text-align:center}"]}),e})();var b=m(5081),it=m(829),$=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),z_textSize=function(e,n,t){var c,i=[].concat(n),s=i.length,r=e.font,g=0;for(e.font=t.string,c=0;c<s;++c)g=Math.max(e.measureText(i[c]).width,g);return e.font=r,{height:s*t.lineHeight,width:g}};function J(e,n){var t=n.x,i=n.y;if(null===t)return{x:0,y:-1};if(null===i)return{x:1,y:0};var s=e.x-t,r=e.y-i,g=Math.sqrt(s*s+r*r);return{x:g?s/g:0,y:g?r/g:-1}}function N(e,n,t){var i=0;return e<t.left?i|=1:e>t.right&&(i|=2),n<t.top?i|=8:n>t.bottom&&(i|=4),i}function nt(e,n){var s,r,t=n.anchor,i=e;return n.clamp&&(i=function X(e,n){for(var A,_,D,t=e.x0,i=e.y0,s=e.x1,r=e.y1,g=N(t,i,n),c=N(s,r,n);g|c&&!(g&c);)8&(A=g||c)?(_=t+(s-t)*(n.top-i)/(r-i),D=n.top):4&A?(_=t+(s-t)*(n.bottom-i)/(r-i),D=n.bottom):2&A?(D=i+(r-i)*(n.right-t)/(s-t),_=n.right):1&A&&(D=i+(r-i)*(n.left-t)/(s-t),_=n.left),A===g?g=N(t=_,i=D,n):c=N(s=_,r=D,n);return{x0:t,x1:s,y0:i,y1:r}}(i,n.area)),"start"===t?(s=i.x0,r=i.y0):"end"===t?(s=i.x1,r=i.y1):(s=(i.x0+i.x1)/2,r=(i.y0+i.y1)/2),function rt(e,n,t,i,s){switch(s){case"center":t=i=0;break;case"bottom":t=0,i=1;break;case"right":t=1,i=0;break;case"left":t=-1,i=0;break;case"top":t=0,i=-1;break;case"start":t=-t,i=-i;break;case"end":break;default:s*=Math.PI/180,t=Math.cos(s),i=Math.sin(s)}return{x:e,y:n,vx:t,vy:i}}(s,r,e.vx,e.vy,n.align)}var st={arc:function(e,n){var t=(e.startAngle+e.endAngle)/2,i=Math.cos(t),s=Math.sin(t),r=e.innerRadius,g=e.outerRadius;return nt({x0:e.x+i*r,y0:e.y+s*r,x1:e.x+i*g,y1:e.y+s*g,vx:i,vy:s},n)},point:function(e,n){var t=J(e,n.origin),i=t.x*e.options.radius,s=t.y*e.options.radius;return nt({x0:e.x-i,y0:e.y-s,x1:e.x+i,y1:e.y+s,vx:t.x,vy:t.y},n)},bar:function(e,n){var t=J(e,n.origin),i=e.x,s=e.y,r=0,g=0;return e.horizontal?(i=Math.min(e.x,e.base),r=Math.abs(e.base-e.x)):(s=Math.min(e.y,e.base),g=Math.abs(e.base-e.y)),nt({x0:i,y0:s+g,x1:i+r,y1:s,vx:t.x,vy:t.y},n)},fallback:function(e,n){var t=J(e,n.origin);return nt({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:t.x,vy:t.y},n)}},Q=function(e){return Math.round(e*$)/$};function Ct(e,n){var t=n.chart.getDatasetMeta(n.datasetIndex).vScale;if(!t)return null;if(void 0!==t.xCenter&&void 0!==t.yCenter)return{x:t.xCenter,y:t.yCenter};var i=t.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function _t(e){return e instanceof it.qi?st.arc:e instanceof it.od?st.point:e instanceof it.ZL?st.bar:st.fallback}function Dt(e,n,t){var i=e.shadowBlur,s=t.stroked,r=Q(t.x),g=Q(t.y),c=Q(t.w);s&&e.strokeText(n,r,g,c),t.filled&&(i&&s&&(e.shadowBlur=0),e.fillText(n,r,g,c),i&&s&&(e.shadowBlur=i))}var xt=function(e,n,t,i){var s=this;s._config=e,s._index=i,s._model=null,s._rects=null,s._ctx=n,s._el=t};(0,b.a2)(xt.prototype,{_modelize:function(e,n,t,i){var s=this,r=s._index,g=(0,b.Z)((0,b.a)([t.font,{}],i,r)),c=(0,b.a)([t.color,it.ce.color],i,r);return{align:(0,b.a)([t.align,"center"],i,r),anchor:(0,b.a)([t.anchor,"center"],i,r),area:i.chart.chartArea,backgroundColor:(0,b.a)([t.backgroundColor,null],i,r),borderColor:(0,b.a)([t.borderColor,null],i,r),borderRadius:(0,b.a)([t.borderRadius,0],i,r),borderWidth:(0,b.a)([t.borderWidth,0],i,r),clamp:(0,b.a)([t.clamp,!1],i,r),clip:(0,b.a)([t.clip,!1],i,r),color:c,display:e,font:g,lines:n,offset:(0,b.a)([t.offset,0],i,r),opacity:(0,b.a)([t.opacity,1],i,r),origin:Ct(s._el,i),padding:(0,b.C)((0,b.a)([t.padding,0],i,r)),positioner:_t(s._el),rotation:(0,b.a)([t.rotation,0],i,r)*(Math.PI/180),size:z_textSize(s._ctx,n,g),textAlign:(0,b.a)([t.textAlign,"start"],i,r),textShadowBlur:(0,b.a)([t.textShadowBlur,0],i,r),textShadowColor:(0,b.a)([t.textShadowColor,c],i,r),textStrokeColor:(0,b.a)([t.textStrokeColor,c],i,r),textStrokeWidth:(0,b.a)([t.textStrokeWidth,0],i,r)}},update:function(e){var g,c,A,n=this,t=null,i=null,s=n._index,r=n._config,_=(0,b.a)([r.display,!0],e,s);_&&(c=(0,b.v)((0,b.O)(r.formatter,[g=e.dataset.data[s],e]),g),(A=(0,b.k)(c)?[]:function(e){var t,n=[];for(e=[].concat(e);e.length;)"string"==typeof(t=e.pop())?n.unshift.apply(n,t.split("\n")):Array.isArray(t)?e.push.apply(e,t):(0,b.k)(e)||n.unshift(""+t);return n}(c)).length&&(i=function At(e){var n=e.borderWidth||0,t=e.padding,i=e.size.height,s=e.size.width,r=-s/2,g=-i/2;return{frame:{x:r-t.left-n,y:g-t.top-n,w:s+t.width+2*n,h:i+t.height+2*n},text:{x:r,y:g,w:s,h:i}}}(t=n._modelize(_,A,r,e)))),n._model=t,n._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,n){var g,i=e.ctx,s=this._model,r=this._rects;!this.visible()||(i.save(),s.clip&&(g=s.area,i.beginPath(),i.rect(g.left,g.top,g.right-g.left,g.bottom-g.top),i.clip()),i.globalAlpha=function(e,n,t){return Math.max(e,Math.min(n,t))}(0,s.opacity,1),i.translate(Q(n.x),Q(n.y)),i.rotate(s.rotation),function wt(e,n,t){var i=t.backgroundColor,s=t.borderColor,r=t.borderWidth;!i&&(!s||!r)||(e.beginPath(),function bt(e,n,t,i,s,r){var g=Math.PI/2;if(r){var c=Math.min(r,s/2,i/2),A=n+c,_=t+c,D=n+i-c,E=t+s-c;e.moveTo(n,_),A<D&&_<E?(e.arc(A,_,c,-Math.PI,-g),e.arc(D,_,c,-g,0),e.arc(D,E,c,0,g),e.arc(A,E,c,g,Math.PI)):A<D?(e.moveTo(A,t),e.arc(D,_,c,-g,g),e.arc(A,_,c,g,Math.PI+g)):_<E?(e.arc(A,_,c,-Math.PI,0),e.arc(A,E,c,0,Math.PI)):e.arc(A,_,c,-Math.PI,Math.PI),e.closePath(),e.moveTo(n,t)}else e.rect(n,t,i,s)}(e,Q(n.x)+r/2,Q(n.y)+r/2,Q(n.w)-r,Q(n.h)-r,t.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),s&&r&&(e.strokeStyle=s,e.lineWidth=r,e.lineJoin="miter",e.stroke()))}(i,r.frame,s),function Mt(e,n,t,i){var H,s=i.textAlign,r=i.color,g=!!r,c=i.font,A=n.length,_=i.textStrokeColor,D=i.textStrokeWidth,E=_&&D;if(A&&(g||E))for(t=function Ft(e,n,t){var i=t.lineHeight,s=e.w,r=e.x;return"center"===n?r+=s/2:("end"===n||"right"===n)&&(r+=s),{h:i,w:s,x:r,y:e.y+i/2}}(t,s,c),e.font=c.string,e.textAlign=s,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,g&&(e.fillStyle=r),E&&(e.lineJoin="round",e.lineWidth=D,e.strokeStyle=_),H=0,A=n.length;H<A;++H)Dt(e,n[H],{stroked:E,filled:g,w:t.w,x:t.x,y:t.y+t.h*H})}(i,s.lines,r.text,s),i.restore())}});var St=Number.MIN_SAFE_INTEGER||-9007199254740991,Et=Number.MAX_SAFE_INTEGER||9007199254740991;function tt(e,n,t){var i=Math.cos(t),s=Math.sin(t),r=n.x,g=n.y;return{x:r+i*(e.x-r)-s*(e.y-g),y:g+s*(e.x-r)+i*(e.y-g)}}function Tt(e,n){var r,g,_,t=Et,i=St,s=n.origin;for(r=0;r<e.length;++r)_=n.vx*((g=e[r]).x-s.x)+n.vy*(g.y-s.y),t=Math.min(t,_),i=Math.max(i,_);return{min:t,max:i}}function lt(e,n){var t=n.x-e.x,i=n.y-e.y,s=Math.sqrt(t*t+i*i);return{vx:(n.x-e.x)/s,vy:(n.y-e.y)/s,origin:e,ln:s}}var yt=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function Gt(e,n,t){var i=n.positioner(e,n),s=i.vx,r=i.vy;if(!s&&!r)return{x:i.x,y:i.y};var g=t.w,c=t.h,A=n.rotation,_=Math.abs(g/2*Math.cos(A))+Math.abs(c/2*Math.sin(A)),D=Math.abs(g/2*Math.sin(A))+Math.abs(c/2*Math.cos(A)),E=1/Math.max(Math.abs(s),Math.abs(r));return _*=s*E,D*=r*E,{x:i.x+(_+=n.offset*s),y:i.y+(D+=n.offset*r)}}(0,b.a2)(yt.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,n,t){this._rotation=t,this._rect={x:n.x+e.x,y:n.y+e.y,w:n.w,h:n.h}},contains:function(e){var n=this,i=n._rect;return!((e=tt(e,n.center(),-n._rotation)).x<i.x-1||e.y<i.y-1||e.x>i.x+i.w+2||e.y>i.y+i.h+2)},intersects:function(e){var s,r,g,n=this._points(),t=e._points(),i=[lt(n[0],n[1]),lt(n[0],n[3])];for(this._rotation!==e._rotation&&i.push(lt(t[0],t[1]),lt(t[0],t[3])),s=0;s<i.length;++s)if(r=Tt(n,i[s]),g=Tt(t,i[s]),r.max<g.min||g.max<r.min)return!1;return!0},_points:function(){var e=this,n=e._rect,t=e._rotation,i=e.center();return[tt({x:n.x,y:n.y},i,t),tt({x:n.x+n.w,y:n.y},i,t),tt({x:n.x+n.w,y:n.y+n.h},i,t),tt({x:n.x,y:n.y+n.h},i,t)]}});var v={prepare:function(e){var t,i,s,r,g,n=[];for(t=0,s=e.length;t<s;++t)for(i=0,r=e[t].length;i<r;++i)n.push(g=e[t][i]),g.$layout={_box:new yt,_hidable:!1,_visible:!0,_set:t,_idx:i};return n.sort(function(c,A){var _=c.$layout,D=A.$layout;return _._idx===D._idx?D._set-_._set:D._idx-_._idx}),this.update(n),n},update:function(e){var t,i,s,r,g,n=!1;for(t=0,i=e.length;t<i;++t)r=(s=e[t]).model(),(g=s.$layout)._hidable=r&&"auto"===r.display,g._visible=s.visible(),n|=g._hidable;n&&function Lt(e){var n,t,i,s,r,g,c;for(n=0,t=e.length;n<t;++n)(s=(i=e[n]).$layout)._visible&&(c=new Proxy(i._el,{get:(A,_)=>A.getProps([_],!0)[_]}),r=i.geometry(),g=Gt(c,i.model(),r),s._box.update(g,r,i.rotation()));(function Ot(e,n){var t,i,s,r;for(t=e.length-1;t>=0;--t)for(s=e[t].$layout,i=t-1;i>=0&&s._visible;--i)(r=e[i].$layout)._visible&&s._box.intersects(r._box)&&n(s,r)})(e,function(A,_){var D=A._hidable,E=_._hidable;D&&E||E?_._visible=!1:D&&(A._visible=!1)})}(e)},lookup:function(e,n){var t,i;for(t=e.length-1;t>=0;--t)if((i=e[t].$layout)&&i._visible&&i._box.contains(n))return e[t];return null},draw:function(e,n){var t,i,s,r,g,c;for(t=0,i=n.length;t<i;++t)(r=(s=n[t]).$layout)._visible&&(g=s.geometry(),c=Gt(s._el,s.model(),g),r._box.update(c,g,s.rotation()),s.draw(e,c))}},d="$datalabels",x="$default";function C(e,n,t){if(n){var r,i=t.$context,s=t.$groups;!n[s._set]||(r=n[s._set][s._key])&&!0===(0,b.O)(r,[i])&&(e[d]._dirty=!0,t.update(i))}}const K={id:"datalabels",defaults:{align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(e){if((0,b.k)(e))return null;var t,i,s,n=e;if((0,b.i)(e))if((0,b.k)(e.label))if((0,b.k)(e.r))for(n="",s=0,i=(t=Object.keys(e)).length;s<i;++s)n+=(0!==s?", ":"")+t[s]+": "+e[t[s]];else n=e.r;else n=e.label;return""+n},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},beforeInit:function(e){e[d]={_actives:[]}},beforeUpdate:function(e){var n=e[d];n._listened=!1,n._listeners={},n._datasets=[],n._labels=[]},afterDatasetUpdate:function(e,n,t){var E,H,Qt,Vt,gt,Zt,G,q,i=n.index,s=e[d],r=s._datasets[i]=[],g=e.isDatasetVisible(i),c=e.data.datasets[i],A=function f(e,n){var r,g,t=e.datalabels,i={},s=[];return!1===t?null:(!0===t&&(t={}),n=(0,b.a2)({},[n,t]),r=n.labels||{},g=Object.keys(r),delete n.labels,g.length?g.forEach(function(c){r[c]&&s.push((0,b.a2)({},[n,r[c],{_key:c}]))}):s.push(n),i=s.reduce(function(c,A){return(0,b.D)(A.listeners||{},function(_,D){c[D]=c[D]||{},c[D][A._key||x]=_}),delete A.listeners,c},{}),{labels:s,listeners:i})}(c,t),_=n.meta.data||[],D=e.ctx;for(D.save(),E=0,Qt=_.length;E<Qt;++E)if((G=_[E])[d]=[],g&&G&&e.getDataVisibility(E)&&!G.skip)for(H=0,Vt=A.labels.length;H<Vt;++H)Zt=(gt=A.labels[H])._key,(q=new xt(gt,D,G,E)).$groups={_set:i,_key:Zt||x},q.$context={active:!1,chart:e,dataIndex:E,dataset:c,datasetIndex:i},q.update(q.$context),G[d].push(q),r.push(q);D.restore(),(0,b.a2)(s._listeners,A.listeners,{merger:function(kt,se,_l){se[kt]=se[kt]||{},se[kt][n.index]=_l[kt],s._listened=!0}})},afterUpdate:function(e,n){e[d]._labels=v.prepare(e[d]._datasets,n)},afterDatasetsDraw:function(e){v.draw(e,e[d]._labels)},beforeEvent:function(e,n){if(e[d]._listened){var t=n.event;switch(t.type){case"mousemove":case"mouseout":!function T(e,n){var s,r,t=e[d],i=t._listeners;if(i.enter||i.leave){if("mousemove"===n.type)r=v.lookup(t._labels,n);else if("mouseout"!==n.type)return;s=t._hovered,t._hovered=r,function M(e,n,t,i){var s,r;!t&&!i||(t?i?t!==i&&(r=s=!0):r=!0:s=!0,r&&C(e,n.leave,t),s&&C(e,n.enter,i))}(e,i,s,r)}}(e,t);break;case"click":!function k(e,n){var t=e[d],i=t._listeners.click,s=i&&v.lookup(t._labels,n);s&&C(e,i,s)}(e,t)}}},afterEvent:function(e){var r,g,c,A,_,D,E,n=e[d],s=function(e,n){var s,r,g,c,t=e.slice(),i=[];for(s=0,g=n.length;s<g;++s)-1===(r=t.indexOf(c=n[s]))?i.push([c,1]):t.splice(r,1);for(s=0,g=t.length;s<g;++s)i.push([t[s],-1]);return i}(n._actives,n._actives=e.getActiveElements());for(r=0,g=s.length;r<g;++r)if((_=s[r])[1])for(c=0,A=(E=_[0].element[d]||[]).length;c<A;++c)(D=E[c]).$context.active=1===_[1],D.update(D.$context);(n._dirty||s.length)&&(v.update(n._labels),e.render()),delete n._dirty}};var ot=m(7154),He=m(2119),qe=m(1058),ze=m(7477),Je=m(5402),Ht=m(226),We=m(1135),Ke=m(8306),le=m(6451),qt=m(7579);function re(e){for(let n in e){let t=e[n]||"";switch(n){case"display":e.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":e["-webkit-"+n]=t;break;case"flex-direction":t=t||"row",e["-webkit-flex-direction"]=t,e["flex-direction"]=t;break;case"order":e.order=e["-webkit-"+n]=isNaN(+t)?"0":t}}return e}const zt="inline",Nt=["row","column","row-reverse","column-reverse"];function ae(e){let[n,t,i]=oe(e);return function ti(e,n=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":e,"flex-wrap":n||null}}(n,t,i)}function oe(e){var n;e=null!==(n=null==e?void 0:e.toLowerCase())&&void 0!==n?n:"";let[t,i,s]=e.split(" ");return Nt.find(r=>r===t)||(t=Nt[0]),i===zt&&(i=s!==zt?s:"",s=zt),[t,Xe(i),!!s]}function Yt(e){let[n]=oe(e);return n.indexOf("row")>-1}function Xe(e){if(e)switch(e.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":e="wrap-reverse";break;case"no":case"none":case"nowrap":e="nowrap";break;default:e="wrap"}return e}function dt(e,...n){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(let t of n)if(null!=t)for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}var Jt=m(9300),ei=m(8505);const ni={provide:l.tb,useFactory:function ii(e,n){return()=>{if((0,w.NF)(n)){const t=Array.from(e.querySelectorAll(`[class*=${de}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(s=>{s.classList.contains(`${de}ssr`)&&s.parentNode?s.parentNode.removeChild(s):s.className.replace(i,"")})}}},deps:[w.K0,l.Lbi],multi:!0},de="flex-layout-";let Wt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[ni]}),e})();class Rt{constructor(n=!1,t="all",i="",s="",r=0){this.matches=n,this.mediaQuery=t,this.mqAlias=i,this.suffix=s,this.priority=r,this.property=""}clone(){return new Rt(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let si=(()=>{class e{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,s){const r=this.stylesheet.get(t);r?r.set(i,s):this.stylesheet.set(t,new Map([[i,s]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){const s=this.stylesheet.get(t);let r="";if(s){const g=s.get(i);("number"==typeof g||"string"==typeof g)&&(r=g+"")}return r}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Kt={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},et=new l.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Kt}),Pt=new l.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Xt=new l.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function ue(e,n){return e=e?e.clone():new Rt,n&&(e.mqAlias=n.alias,e.mediaQuery=n.mediaQuery,e.suffix=n.suffix,e.priority=n.priority),e}class U{constructor(){this.shouldCache=!0}sideEffect(n,t,i){}}let B=(()=>{class e{constructor(t,i,s,r){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=s,this.layoutConfig=r}applyStyleToElement(t,i,s=null){let r={};"string"==typeof i&&(r[i]=s,i=r),r=this.layoutConfig.disableVendorPrefixes?i:re(i),this._applyMultiValueStyleToElement(r,t)}applyStyleToElements(t,i=[]){const s=this.layoutConfig.disableVendorPrefixes?t:re(t);i.forEach(r=>{this._applyMultiValueStyleToElement(s,r)})}getFlowDirection(t){const i="flex-direction";let s=this.lookupStyle(t,i);return[s||"row",this.lookupInlineStyle(t,i)||(0,w.PM)(this._platformId)&&this._serverModuleLoaded?s:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,i){var s;return null!==(s=t.getAttribute(i))&&void 0!==s?s:""}lookupInlineStyle(t,i){return(0,w.NF)(this._platformId)?t.style.getPropertyValue(i):function li(e,n){var t;return null!==(t=ge(e)[n])&&void 0!==t?t:""}(t,i)}lookupStyle(t,i,s=!1){let r="";return t&&((r=this.lookupInlineStyle(t,i))||((0,w.NF)(this._platformId)?s||(r=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(t,i)))),r?r.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(s=>{const r=t[s],g=Array.isArray(r)?r:[r];g.sort();for(let c of g)c=c?c+"":"",(0,w.NF)(this._platformId)||!this._serverModuleLoaded?(0,w.NF)(this._platformId)?i.style.setProperty(s,c):ri(i,s,c):this._serverStylesheet.addStyleToElement(i,s,c)})}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(si),l.LFG(Pt),l.LFG(l.Lbi),l.LFG(et))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ri(e,n,t){n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=ge(e);i[n]=null!=t?t:"",function ai(e,n){let t="";for(const i in n)n[i]&&(t+=`${i}:${n[i]};`);e.setAttribute("style",t)}(e,i)}function ge(e){const n={},t=e.getAttribute("style");if(t){const i=t.split(/;+/g);for(let s=0;s<i.length;s++){const r=i[s].trim();if(r.length>0){const g=r.indexOf(":");if(-1===g)throw new Error(`Invalid CSS style: ${r}`);n[r.substr(0,g).trim()]=r.substr(g+1).trim()}}}return n}function Ut(e,n){return(n&&n.priority||0)-(e&&e.priority||0)}function oi(e,n){return(e.priority||0)-(n.priority||0)}let te=(()=>{class e{constructor(t,i,s){this._zone=t,this._platformId=i,this._document=s,this.source=new We.X(new Rt(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((i,s)=>{i.matches&&t.push(s)}),t}isActive(t){var i;const s=this.registry.get(t);return null!==(i=null==s?void 0:s.matches)&&void 0!==i?i:this.registerQuery(t).some(r=>r.matches)}observe(t,i=!1){if(t&&t.length){const s=this._observable$.pipe((0,Jt.h)(g=>!i||t.indexOf(g.mediaQuery)>-1)),r=new Ke.y(g=>{const c=this.registerQuery(t);if(c.length){const A=c.pop();c.forEach(_=>{g.next(_)}),this.source.next(A)}g.complete()});return(0,le.T)(r,s)}return this._observable$}registerQuery(t){const i=Array.isArray(t)?t:[t],s=[];return function di(e,n){const t=e.filter(i=>!ce[i]);if(t.length>0){const i=t.join(", ");try{const s=n.createElement("style");s.setAttribute("type","text/css"),s.styleSheet||s.appendChild(n.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),n.head.appendChild(s),t.forEach(r=>ce[r]=s)}catch(s){console.error(s)}}}(i,this._document),i.forEach(r=>{const g=A=>{this._zone.run(()=>this.source.next(new Rt(A.matches,r)))};let c=this.registry.get(r);c||(c=this.buildMQL(r),c.addListener(g),this.pendingRemoveListenerFns.push(()=>c.removeListener(g)),this.registry.set(r,c)),c.matches&&s.push(new Rt(!0,r))}),s}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function ui(e,n){return n&&window.matchMedia("all").addListener?window.matchMedia(e):{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,(0,w.NF)(this._platformId))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(l.R0b),l.LFG(l.Lbi),l.LFG(w.K0))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ce={},gi=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],me="(orientation: portrait) and (max-width: 599.98px)",fe="(orientation: landscape) and (max-width: 959.98px)",he="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",pe="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",xe="(orientation: portrait) and (min-width: 840px)",ye="(orientation: landscape) and (min-width: 1280px)",ut={HANDSET:`${me}, ${fe}`,TABLET:`${he} , ${pe}`,WEB:`${xe}, ${ye} `,HANDSET_PORTRAIT:`${me}`,TABLET_PORTRAIT:`${he} `,WEB_PORTRAIT:`${xe}`,HANDSET_LANDSCAPE:`${fe}`,TABLET_LANDSCAPE:`${pe}`,WEB_LANDSCAPE:`${ye}`},ci=[{alias:"handset",priority:2e3,mediaQuery:ut.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:ut.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:ut.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:ut.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:ut.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:ut.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:ut.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:ut.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:ut.WEB_PORTRAIT,overlapping:!0}],mi=/(\.|-|_)/g;function fi(e){let n=e.length>0?e.charAt(0):"",t=e.length>1?e.slice(1):"";return n.toUpperCase()+t}const yi=new l.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const e=(0,l.f3M)(Xt),n=(0,l.f3M)(et),t=[].concat.apply([],(e||[]).map(s=>Array.isArray(s)?s:[s]));return function xi(e,n=[]){const t={};return e.forEach(i=>{t[i.alias]=i}),n.forEach(i=>{t[i.alias]?dt(t[i.alias],i):t[i.alias]=i}),function pi(e){return e.forEach(n=>{n.suffix||(n.suffix=function hi(e){return e.replace(mi,"|").split("|").map(fi).join("")}(n.alias),n.overlapping=!!n.overlapping)}),e}(Object.keys(t).map(i=>t[i]))}((n.disableDefaultBps?[]:gi).concat(n.addOrientationBps?ci:[]),t)}});let ee=(()=>{class e{constructor(t){this.findByMap=new Map,this.items=[...t].sort(oi)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias===t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>{var i;return null!==(i=null==t?void 0:t.suffix)&&void 0!==i?i:""})}findWithPredicate(t,i){var s;let r=this.findByMap.get(t);return r||(r=null!==(s=this.items.find(i))&&void 0!==s?s:null,this.findByMap.set(t,r)),null!=r?r:null}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(yi))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Bt="print",vi={alias:Bt,mediaQuery:Bt,priority:1e3};let Ai=(()=>{class e{constructor(t,i,s){this.breakpoints=t,this.layoutConfig=i,this._document=s,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Ci,this.deactivations=[]}withPrintQuery(t){return[...t,Bt]}isPrintEvent(t){return t.mediaQuery.startsWith(Bt)}get printAlias(){var t;return[...null!==(t=this.layoutConfig.printWithBreakpoints)&&void 0!==t?t:[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Ut)}updateEvent(t){var i;let s=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(s=this.getEventBreakpoints(t)[0],t.mediaQuery=null!==(i=null==s?void 0:s.mediaQuery)&&void 0!==i?i:""),ue(t,s)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new Rt(!0,Bt))),t.updateStyles())},s=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",s),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(s)}interceptEvents(t){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const s=this.breakpoints.findByQuery(i.mediaQuery);if(s){const r=this.formerActivations&&this.formerActivations.includes(s),g=!this.formerActivations&&t.activatedBreakpoints.includes(s);(r||g)&&(this.deactivations.push(s),this.deactivations.sort(Ut))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(ee),l.LFG(et),l.LFG(w.K0))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Ci{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(n){return n.push(vi),n.sort(Ut),n.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(n){n&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===n.mediaQuery)&&(this.printBreakpoints=function _i(e){var n;return null!==(n=null==e?void 0:e.mediaQuery.startsWith(Bt))&&void 0!==n&&n}(n)?[n,...this.printBreakpoints]:[...this.printBreakpoints,n])}clear(){this.printBreakpoints=[]}}let I=(()=>{class e{constructor(t,i,s){this.matchMedia=t,this.breakpoints=i,this.hook=s,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new qt.x,this.observeActivations()}get activatedAlias(){var t,i;return null!==(i=null===(t=this.activatedBreakpoints[0])||void 0===t?void 0:t.alias)&&void 0!==i?i:""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const i=this.findByQuery(t.mediaQuery);if(i){t=ue(t,i);const s=this.activatedBreakpoints.indexOf(i);t.matches&&-1===s?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Ut),this.updateStyles()):!t.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(Ut),this.updateStyles())}}init(t,i,s,r,g=[]){ve(this.updateMap,t,i,s),ve(this.clearMap,t,i,r),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,g)}getValue(t,i,s){const r=this.elementMap.get(t);if(r){const g=void 0!==s?r.get(s):this.getActivatedValues(r,i);if(g)return g.get(i)}}hasValue(t,i){const s=this.elementMap.get(t);if(s){const r=this.getActivatedValues(s,i);if(r)return void 0!==r.get(i)||!1}return!1}setValue(t,i,s,r){var g;let c=this.elementMap.get(t);if(c){const _=(null!==(g=c.get(r))&&void 0!==g?g:new Map).set(i,s);c.set(r,_),this.elementMap.set(t,c)}else c=(new Map).set(r,(new Map).set(i,s)),this.elementMap.set(t,c);const A=this.getValue(t,i);void 0!==A&&this.updateElement(t,i,A)}trackValue(t,i){return this.subject.asObservable().pipe((0,Jt.h)(s=>s.element===t&&s.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{const s=new Set(this.elementKeyMap.get(i));let r=this.getActivatedValues(t);r&&r.forEach((g,c)=>{this.updateElement(i,c,g),s.delete(c)}),s.forEach(g=>{if(r=this.getActivatedValues(t,g),r){const c=r.get(g);this.updateElement(i,g,c)}else this.clearElement(i,g)})})}clearElement(t,i){const s=this.clearMap.get(t);if(s){const r=s.get(i);r&&(r(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,s){const r=this.updateMap.get(t);if(r){const g=r.get(i);g&&(g(s),this.subject.next({element:t,key:i,value:s}))}}releaseElement(t){const i=this.watcherMap.get(t);i&&(i.forEach(r=>r.unsubscribe()),this.watcherMap.delete(t));const s=this.elementMap.get(t);s&&(s.forEach((r,g)=>s.delete(g)),this.elementMap.delete(t))}triggerUpdate(t,i){const s=this.elementMap.get(t);if(s){const r=this.getActivatedValues(s,i);r&&(i?this.updateElement(t,i,r.get(i)):r.forEach((g,c)=>this.updateElement(t,c,g)))}}buildElementKeyMap(t,i){let s=this.elementKeyMap.get(t);s||(s=new Set,this.elementKeyMap.set(t,s)),s.add(i)}watchExtraTriggers(t,i,s){if(s&&s.length){let r=this.watcherMap.get(t);if(r||(r=new Map,this.watcherMap.set(t,r)),!r.get(i)){const c=(0,le.T)(...s).subscribe(()=>{const A=this.getValue(t,i);this.updateElement(t,i,A)});r.set(i,c)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let r=0;r<this.activatedBreakpoints.length;r++){const c=t.get(this.activatedBreakpoints[r].alias);if(c&&(void 0===i||c.has(i)&&null!=c.get(i)))return c}if(!this._useFallbacks)return;const s=t.get("");return void 0===i||s&&s.has(i)?s:void 0}observeActivations(){const t=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe((0,ei.b)(this.hook.interceptEvents(this)),(0,Jt.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(te),l.LFG(ee),l.LFG(Ai))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ve(e,n,t,i){var s;if(void 0!==i){const r=null!==(s=e.get(n))&&void 0!==s?s:new Map;r.set(t,i),e.set(n,r)}}let Y=(()=>{class e{constructor(t,i,s,r){this.elementRef=t,this.styleBuilder=i,this.styler=s,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new qt.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const s=i.split(".").slice(1).join(".");this.setValue(t[i].currentValue,s)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){const s=this.styleBuilder,r=s.shouldCache;let g=this.styleCache.get(t);(!g||!r)&&(g=s.buildStyles(t,i),r&&this.styleCache.set(t,g)),this.mru=Object.assign({},g),this.applyStyleToElement(g),s.sideEffect(t,g,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){const[s,r]=this.styler.getFlowDirection(t);if(!r&&i){const g=ae(s);this.styler.applyStyleToElements(g,[t])}return s.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,s=this.nativeElement){this.styler.applyStyleToElement(s,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(U),l.Y36(B),l.Y36(I))},e.\u0275dir=l.lG2({type:e,features:[l.TTD]}),e})();function Ae(e,n="1",t="1"){let i=[n,t,e],s=e.indexOf("calc");if(s>0){i[2]=Ce(e.substring(s).trim());let r=e.substr(0,s).trim().split(" ");2==r.length&&(i[0]=r[0],i[1]=r[1])}else if(0==s)i[2]=Ce(e.trim());else{let r=e.split(" ");i=3===r.length?r:[n,t,e]}return i}function Ce(e){return e.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function $t(e,n){if(void 0===n)return e;const t=i=>{const s=+i.slice(0,-"x".length);return e.endsWith("x")&&!isNaN(s)?`${s*n.value}${n.unit}`:e};return e.includes(" ")?e.split(" ").map(t).join(" "):t(e)}var It=m(2722);let Fi=(()=>{class e extends U{buildStyles(t,{display:i}){const s=ae(t);return Object.assign(Object.assign({},s),{display:"none"===i?i:s.display})}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(e)))(i||e)}}(),e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Di=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Mi=(()=>{class e extends Y{constructor(t,i,s,r,g){super(t,s,i,r),this._config=g,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){var i;const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(i=we.get(r))&&void 0!==i?i:new Map,we.set(r,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:r}),this.currentValue=t)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(B),l.Y36(Fi),l.Y36(I),l.Y36(et))},e.\u0275dir=l.lG2({type:e,features:[l.qOj]}),e})(),be=(()=>{class e extends Mi{constructor(){super(...arguments),this.inputs=Di}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(e)))(i||e)}}(),e.\u0275dir=l.lG2({type:e,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[l.qOj]}),e})();const we=new Map,Fe={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Si=(()=>{class e extends U{constructor(t,i){super(),this._styler=t,this._config=i}buildStyles(t,i){return t.endsWith(jt)?function Bi(e,n){const[t,i]=e.split(" "),r=_=>`-${_}`;let g="0px",c=r(null!=i?i:t),A="0px";return"rtl"===n?A=r(t):g=r(t),{margin:`0px ${g} ${c} ${A}`}}(t=$t(t=t.slice(0,t.indexOf(jt)),this._config.multiplier),i.directionality):{}}sideEffect(t,i,s){const r=s.items;if(t.endsWith(jt)){const g=function Pi(e,n){const[t,i]=e.split(" ");let r="0px",c="0px";return"rtl"===n?c=t:r=t,{padding:`0px ${r} ${null!=i?i:t} ${c}`}}(t=$t(t=t.slice(0,t.indexOf(jt)),this._config.multiplier),s.directionality);this._styler.applyStyleToElements(g,s.items)}else{t=$t(t,this._config.multiplier),t=this.addFallbackUnit(t);const g=r.pop(),c=function Ii(e,n){const t=Me(n.directionality,n.layout),i=Object.assign({},Fe);return i[t]=e,i}(t,s);this._styler.applyStyleToElements(c,r),this._styler.applyStyleToElements(Fe,[g])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(B),l.LFG(et))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ei=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Ti=(()=>{class e extends Y{constructor(t,i,s,r,g,c){super(t,g,r,c),this.zone=i,this.directionality=s,this.styleUtils=r,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new qt.x;const A=[this.directionality.change,this.observerSubject.asObservable()];this.init(A),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,It.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,i=[];for(let s=t.length;s--;)i[s]=t[s];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const s=t.value.split(" ");this.layout=s[0],Nt.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const i=this.childrenNodes.filter(s=>1===s.nodeType&&this.willDisplay(s)).sort((s,r)=>{const g=+this.styler.lookupStyle(s,"order"),c=+this.styler.lookupStyle(r,"order");return isNaN(g)||isNaN(c)||g===c?0:g>c?1:-1});if(i.length>0){const s=this.directionality.value,r=this.layout;"row"===r&&"rtl"===s?this.styleCache=Oi:"row"===r&&"rtl"!==s?this.styleCache=Ri:"column"===r&&"rtl"===s?this.styleCache=Li:"column"===r&&"rtl"!==s&&(this.styleCache=Gi),this.addStyles(t,{directionality:s,items:i,layout:r})}}clearStyles(){const t=Object.keys(this.mru).length>0,i=t?"padding":Me(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(t){const i=this.marshal.getValue(t,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(t=>{t.some(s=>s.addedNodes&&s.addedNodes.length>0||s.removedNodes&&s.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Ht.Is),l.Y36(B),l.Y36(Si),l.Y36(I))},e.\u0275dir=l.lG2({type:e,features:[l.qOj]}),e})(),De=(()=>{class e extends Ti{constructor(){super(...arguments),this.inputs=Ei}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(e)))(i||e)}}(),e.\u0275dir=l.lG2({type:e,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[l.qOj]}),e})();const Oi=new Map,Li=new Map,Ri=new Map,Gi=new Map,jt=" grid";function Me(e,n){switch(n){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===e?"margin-left":"margin-right";case"row-reverse":return"rtl"===e?"margin-right":"margin-left"}}let ki=(()=>{class e extends U{constructor(t){super(),this.layoutConfig=t}buildStyles(t,i){let[s,r,...g]=t.split(" "),c=g.join(" ");const A=i.direction.indexOf("column")>-1?"column":"row",_=Yt(A)?"max-width":"max-height",D=Yt(A)?"min-width":"min-height",E=String(c).indexOf("calc")>-1,H=E||"auto"===c,Qt=String(c).indexOf("%")>-1&&!E,Vt=String(c).indexOf("px")>-1||String(c).indexOf("rem")>-1||String(c).indexOf("em")>-1||String(c).indexOf("vw")>-1||String(c).indexOf("vh")>-1;let gt=E||Vt;s="0"==s?0:s,r="0"==r?0:r;const Zt=!s&&!r;let G={};const q={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(c||""){case"":const kt=!1!==this.layoutConfig.useColumnBasisZero;c="row"===A?"0%":kt?"0.000000001px":"auto";break;case"initial":case"nogrow":s=0,c="auto";break;case"grow":c="100%";break;case"noshrink":r=0,c="auto";break;case"auto":break;case"none":s=0,r=0,c="auto";break;default:!gt&&!Qt&&!isNaN(c)&&(c+="%"),"0%"===c&&(gt=!0),"0px"===c&&(c="0%"),G=dt(q,E?{"flex-grow":s,"flex-shrink":r,"flex-basis":gt?c:"100%"}:{flex:`${s} ${r} ${gt?c:"100%"}`})}return G.flex||G["flex-grow"]||(G=dt(q,E?{"flex-grow":s,"flex-shrink":r,"flex-basis":c}:{flex:`${s} ${r} ${c}`})),"0%"!==c&&"0px"!==c&&"0.000000001px"!==c&&"auto"!==c&&(G[D]=Zt||gt&&s?c:null,G[_]=Zt||!H&&r?c:null),G[D]||G[_]?i.hasWrap&&(G[E?"flex-basis":"flex"]=G[_]?E?G[_]:`${s} ${r} ${G[_]}`:E?G[D]:`${s} ${r} ${G[D]}`):G=dt(q,E?{"flex-grow":s,"flex-shrink":r,"flex-basis":c}:{flex:`${s} ${r} ${c}`}),dt(G,{"box-sizing":"border-box"})}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(et))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Yi=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Ui=(()=>{class e extends Y{constructor(t,i,s,r,g){super(t,r,i,g),this.layoutConfig=s,this.marshal=g,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,It.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,It.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const s=t.value.split(" ");this.direction=s[0],this.wrap=void 0!==s[1]&&"wrap"===s[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const s=this.direction,r=s.startsWith("row"),g=this.wrap;r&&g?this.styleCache=$i:r&&!g?this.styleCache=Zi:!r&&g?this.styleCache=ji:!r&&!g&&(this.styleCache=Ni);const A=Ae(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(A.join(" "),{direction:s,hasWrap:g})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const i=Ae(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(B),l.Y36(et),l.Y36(ki),l.Y36(I))},e.\u0275dir=l.lG2({type:e,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[l.qOj]}),e})(),Se=(()=>{class e extends Ui{constructor(){super(...arguments),this.inputs=Yi}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=l.n5z(e)))(i||e)}}(),e.\u0275dir=l.lG2({type:e,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[l.qOj]}),e})();const Zi=new Map,Ni=new Map,$i=new Map,ji=new Map;let Ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[Wt,Ht.vT]]}),e})();var ie=m(4107),Dn=m(508);function Mn(e,n){if(1&e&&(l.TgZ(0,"mat-option",13),l._uU(1),l.qZA()),2&e){const t=n.$implicit;l.Q6J("value",t.id),l.xp6(1),l.Oqu(t.codigo)}}let Sn=(()=>{class e{constructor(t,i,s,r,g,c){this._dialog=t,this.apiSvc=i,this.templateSvc=s,this.userSvc=r,this.poolSvc=g,this.paramService=c,this.barChartPlugins=[K],this.datosApi=[],this.nombreParametrosApi=[],this.valor_minimo=[],this.valor_maximo=[],this.barChartLabels=[],this.barChartType="bar",this.barChartLabels1=[],this.barChartLabels2=[],this.barChartLabels3=[],this.barChartLabels4=[],this.displayedColumns=["nombre","valor","observacion"],this.dataSource=new L.by,this.piscinasUsuarioDisponibles=[],this.selectedPool=null,this.plantillasPiscina=[],this.selectedPoolCensus=null,this.intervalActive=null,this.saveActive=null,this.selectedCensus=!1,this.selectedStop=!1,this.barChartOptions={responsive:!0,scales:{x:{max:1},y:{min:0,ticks:{callback:function(A,_,D){return A+"mg/l"}}}},plugins:{legend:{display:!0},datalabels:{anchor:"center",align:"center"}}},this.barChartOptions1={responsive:!0,scales:{x:{max:1},y:{min:0,ticks:{callback:function(A,_,D){return A+"ppt"}}}},plugins:{legend:{display:!0},datalabels:{anchor:"center",align:"center"}}},this.barChartOptions2={responsive:!0,scales:{x:{max:1},y:{min:0,ticks:{callback:function(A,_,D){return A+"\xb0C"}}}},plugins:{legend:{display:!0},datalabels:{anchor:"center",align:"center"}}},this.barChartOptions3={responsive:!0,scales:{x:{max:1},y:{min:0}},plugins:{legend:{display:!0},datalabels:{anchor:"center",align:"center"}}}}ngOnDestroy(){this.intervalActive&&clearInterval(this.intervalActive),this.saveActive&&clearInterval(this.saveActive)}ngOnInit(){this.llamarPiscinasUsuario()}llamarPiscinasUsuario(){const t=JSON.parse(localStorage.getItem("user"))||null;"supervisor"===t.rol?this.poolSvc.getAll().subscribe(i=>{this.piscinasUsuarioDisponibles.push(i)}):"operador"===t.rol&&this.userSvc.getById(t.userId).subscribe(i=>{this.piscinasUsuarioDisponibles.push(i.piscinas)})}getParametroApi(){this.selectedPoolCensus=this.selectedPool,this.templateSvc.getTemplateByPool(this.selectedPool).subscribe(t=>{t.length>0?(this.valor_minimo=[],this.valor_maximo=[],t.forEach(i=>{this.valor_minimo.push(i.valor_minimo),this.valor_maximo.push(i.valor_maximo)})):(this.valor_minimo=[],this.valor_maximo=[])}),this.nombreParametrosApi=[],this.datosApi=[],this.apiSvc.getAll().subscribe(t=>{this.nombreParametrosApi.push(Object.keys(t)),this.datosApi.push(Object.values(t)),this.cargarDatosApi()})}getPlantillaPiscina(){}stopPlantilla(){this.selectedCensus=!1,this.intervalActive&&(clearInterval(this.intervalActive),clearInterval(this.saveActive)),this.getParametroApi()}guardarCenso(){this.selectedStop=!1;const t=JSON.parse(localStorage.getItem("user"))||null;this.paramService.newCensus(this.selectedPool,t.userId).subscribe(i=>{a().fire({position:"center",icon:"success",title:i.message,showConfirmButton:!1,timer:1e3})})}cargarDatosApi(){this.barChartData=[],this.barChartData.push({data:[this.datosApi[0][0]],label:"API"},{data:[this.valor_minimo[0]],label:"Valor_minimo"},{data:[this.valor_maximo[0]],label:"Valor_Maximo"}),this.barChartLabels[0]=this.nombreParametrosApi[0][0],this.barChartData1=[],this.barChartData1.push({data:[this.datosApi[0][1]],label:"API"},{data:[this.valor_minimo[1]],label:"Valor_minimo"},{data:[this.valor_maximo[1]],label:"Valor_Maximo"}),this.barChartLabels1[0]=this.nombreParametrosApi[0][1],this.barChartData2=[],this.barChartData2.push({data:[this.datosApi[0][2]],label:"API"},{data:[this.valor_minimo[2]],label:"Valor_minimo"},{data:[this.valor_maximo[2]],label:"Valor_Maximo"}),this.barChartLabels2[0]=this.nombreParametrosApi[0][2],this.barChartData3=[],this.barChartData3.push({data:[this.datosApi[0][3]],label:"API"},{data:[this.valor_minimo[3]],label:"Valor_minimo"},{data:[this.valor_maximo[3]],label:"Valor_Maximo"}),this.barChartLabels3[0]=this.nombreParametrosApi[0][3],this.barChartData4=[],this.barChartData4.push({data:[this.datosApi[0][4]],label:"API"},{data:[this.valor_minimo[4]],label:"Valor_minimo"},{data:[this.valor_maximo[4]],label:"Valor_Maximo"}),this.barChartLabels4[0]=this.nombreParametrosApi[0][4]}onOpenModal(){this._dialog.open(P,{height:"400px",width:"500px"}).afterClosed().subscribe(t=>{if(console.log(t),t){const{horasEncendido:i,minutosEncendido:s,minutosFrecuencia:r,horasFrecuencia:g}=t;let c=6e4*(60*g+r),A=6e4*(60*i+s);this.getPlantillaPiscina(),this.selectedCensus=!0,setTimeout(()=>{clearInterval(this.saveActive),this.selectedCensus=!1,clearInterval(this.intervalActive),this.playAudio()},A),this.saveActive=setInterval(()=>{this.guardarCenso()},c),this.intervalActive=setInterval(()=>{this.getParametroApi()},1500)}})}playAudio(){const t=new Audio;t.src="assets/sounds/alarma.mp3",t.load(),t.play()}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(o.uw),l.Y36(ot.s),l.Y36(He.E),l.Y36(qe.K),l.Y36(ze.q),l.Y36(Je.y))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-graphics-parameters"]],viewQuery:function(t,i){if(1&t&&(l.Gf(S.jh,5),l.Gf(R.YE,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.chart=s.first),l.iGM(s=l.CRH())&&(i.sort=s.first)}},decls:28,vars:33,consts:[["fxLayout","column","fxFlex","100"],["fxLayout","row","fxFlex","100",1,"buttons"],["appearance","fill"],["name","pool",3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["ngDefaultControl","",1,"table-button-row",3,"ngModel","ngModelChange"],["mat-flat-button","","color","accent",3,"disabled","click"],[1,"table-button-row"],["fxLayout","row wrap","fxFlex","100","fxLayoutGap","100px"],["fxLayout","column","fxLayoutGap","30px",1,"table",2,"display","block"],["baseChart","",3,"datasets","options","type","labels","plugins"],["fxLayout","column",1,"table",2,"display","block"],[1,"table",2,"display","block"],[3,"value"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),l._uU(4,"Piscinas"),l.qZA(),l.TgZ(5,"mat-select",3),l.NdJ("ngModelChange",function(r){return i.selectedPool=r}),l.YNc(6,Mn,2,2,"mat-option",4),l.qZA()(),l.TgZ(7,"div",5),l.NdJ("ngModelChange",function(r){return!(i.selectedCensus=r)}),l.TgZ(8,"button",6),l.NdJ("click",function(){return i.onOpenModal()}),l._uU(9,"Censar"),l.qZA()(),l.TgZ(10,"div",5),l.NdJ("ngModelChange",function(r){return i.selectedStop=r}),l.TgZ(11,"button",6),l.NdJ("click",function(){return i.stopPlantilla()}),l._uU(12,"Parar"),l.qZA()(),l.TgZ(13,"div",7)(14,"button",6),l.NdJ("click",function(){return i.guardarCenso()}),l._uU(15,"Guardar"),l.qZA()()(),l.TgZ(16,"div",8)(17,"div",9),l._UZ(18,"canvas",10),l.qZA(),l.TgZ(19,"div",9),l._UZ(20,"canvas",10),l.qZA(),l.TgZ(21,"div",9),l._UZ(22,"canvas",10),l.qZA(),l.TgZ(23,"div",11),l._UZ(24,"canvas",10),l.qZA(),l.TgZ(25,"div",12),l._UZ(26,"canvas",10),l.qZA()(),l._UZ(27,"table"),l.qZA()),2&t&&(l.xp6(5),l.Q6J("ngModel",i.selectedPool)("disabled",!0===i.selectedCensus),l.xp6(1),l.Q6J("ngForOf",i.piscinasUsuarioDisponibles[0]),l.xp6(1),l.Q6J("ngModel",!i.selectedCensus),l.xp6(1),l.Q6J("disabled",!i.selectedPool||!0===i.selectedCensus),l.xp6(2),l.Q6J("ngModel",i.selectedStop),l.xp6(1),l.Q6J("disabled",!i.selectedCensus),l.xp6(3),l.Q6J("disabled",!i.selectedCensus),l.xp6(4),l.Q6J("datasets",i.barChartData)("options",i.barChartOptions)("type",i.barChartType)("labels",i.barChartLabels)("plugins",i.barChartPlugins),l.xp6(2),l.Q6J("datasets",i.barChartData1)("options",i.barChartOptions1)("type",i.barChartType)("labels",i.barChartLabels1)("plugins",i.barChartPlugins),l.xp6(2),l.Q6J("datasets",i.barChartData2)("options",i.barChartOptions2)("type",i.barChartType)("labels",i.barChartLabels2)("plugins",i.barChartPlugins),l.xp6(2),l.Q6J("datasets",i.barChartData3)("options",i.barChartOptions3)("type",i.barChartType)("labels",i.barChartLabels3)("plugins",i.barChartPlugins),l.xp6(2),l.Q6J("datasets",i.barChartData4)("options",i.barChartOptions3)("type",i.barChartType)("labels",i.barChartLabels4)("plugins",i.barChartPlugins))},directives:[be,Se,V.KE,V.hX,ie.gD,y.JJ,y.On,w.sg,Dn.ey,y.Fj,j.lW,De,S.jh],styles:[".table[_ngcontent-%COMP%]{width:30%;margin-left:150px;margin-top:1rem}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}.buttons[_ngcontent-%COMP%]{margin:0 auto;margin-top:2rem}"]}),e})();const En=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-admin"]],decls:4,vars:0,consts:[[1,"tittle"],[1,"letter"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"h1",1),l._uU(2," CENSANDO PAR\xc1METROS... "),l.qZA()(),l._UZ(3,"app-graphics-parameters"))},directives:[Sn],styles:[".tittle[_ngcontent-%COMP%]{text-align:center;color:#782d9b;padding-top:20px}.letter[_ngcontent-%COMP%]{font-family:Nunito Sans,sans-serif;font-size:2rem}"]}),e})()},{path:"users",loadChildren:()=>Promise.resolve().then(m.bind(m,5007)).then(e=>e.UsersModule)},{path:"templates",loadChildren:()=>Promise.resolve().then(m.bind(m,1570)).then(e=>e.TemplateModule)},{path:"parameters",loadChildren:()=>Promise.resolve().then(m.bind(m,7984)).then(e=>e.ParametersModule)},{path:"pools",loadChildren:()=>m.e(600).then(m.bind(m,600)).then(e=>e.PoolsModule)},{path:"reports",loadChildren:()=>m.e(866).then(m.bind(m,866)).then(e=>e.ReportsPoolModule)}];let Tn=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[O.Bz.forChild(En)],O.Bz]}),e})();var Te=m(4169),On=m(5007),Oe=m(520);m(3191),m(2313);let Ie=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[Wt]]}),e})(),Qe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[Wt]]}),e})(),Ve=(()=>{class e{constructor(t,i){(0,w.PM)(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:e,providers:t.serverLoaded?[{provide:et,useValue:Object.assign(Object.assign({},Kt),t)},{provide:Xt,useValue:i,multi:!0},{provide:Pt,useValue:!0}]:[{provide:et,useValue:Object.assign(Object.assign({},Kt),t)},{provide:Xt,useValue:i,multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(Pt),l.LFG(l.Lbi))},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[Ee,Ie,Qe],Ee,Ie,Qe]}),e})(),yl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[w.ez,Te.q,Oe.JF,y.UX,o.Is,ie.LD,u.c,y.u5,Ve]]}),e})();var vl=m(7984),Al=m(1570);let Cl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[w.ez,Tn,Te.q,o.Is,ie.LD,y.UX,S.vQ,yl,On.UsersModule,Al.TemplateModule,vl.ParametersModule,Oe.JF,y.u5,Ve,L.p0]]}),e})()},7984:(ct,Z,m)=>{m.r(Z),m.d(Z,{ParametersModule:()=>Lt});var w=m(9808),O=m(1083),l=m(4847),S=m(8279),L=m(7579),R=m(2722),F=m(8966),a=m(5226),y=m.n(a),o=m(5e3),V=m(5402),u=m(2119),j=m(7477),P=m(3075);let b=(()=>{class v{constructor(p){this.fb=p,this.errorMessage=null,this.baseForm=this.fb.group({codigo:["",[P.kI.required,P.kI.minLength(6)]],nombre:["",[P.kI.required,P.kI.minLength(2)]],plantilla:["",[P.kI.required]],piscina:["",[P.kI.required]]})}isValidField(p){var d,x,f;return this.getErrorMessage(p),((null===(d=this.baseForm.get(p))||void 0===d?void 0:d.touched)||(null===(x=this.baseForm.get(p))||void 0===x?void 0:x.dirty))&&!(null===(f=this.baseForm.get(p))||void 0===f?void 0:f.valid)}getErrorMessage(p){var d;const{errors:x}=this.baseForm.get(p);if(x){const C={required:"Campo requerido",minLength:`Debe tener minimo ${null===(d=null==x?void 0:x.minlength)||void 0===d?void 0:d.requiredLength} caracteres`},M=Object.keys(x).find(Boolean);this.errorMessage=C[M]}}}return v.\u0275fac=function(p){return new(p||v)(o.LFG(P.qu))},v.\u0275prov=o.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();var it=m(7154),$=m(7322),z=m(7531),J=m(4107),rt=m(508),at=m(7423);function mt(v,h){if(1&v&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&v){const p=o.oxw();o.xp6(1),o.hij(" ",p.paramForm.errorMessage," ")}}function ft(v,h){if(1&v&&(o.TgZ(0,"mat-option",14),o._uU(1),o.qZA()),2&v){const p=h.$implicit;o.Q6J("value",p),o.xp6(1),o.Oqu(p)}}function ht(v,h){if(1&v&&(o.TgZ(0,"mat-option",14),o._uU(1),o.qZA()),2&v){const p=h.$implicit;o.Q6J("value",p.id),o.xp6(1),o.Oqu(p.codigo)}}function pt(v,h){if(1&v&&(o.TgZ(0,"mat-option",14),o._uU(1),o.qZA()),2&v){const p=h.$implicit;o.Q6J("value",p.id),o.xp6(1),o.Oqu(p.codigo)}}var N=(()=>{return(v=N||(N={})).EDIT="edit",v.NEW="new",N;var v})();let X=(()=>{class v{constructor(p,d,x,f,C,M){this.data=p,this.paramSvc=d,this.templateSvc=x,this.poolService=f,this.paramForm=C,this.apiSvc=M,this.actionTODO=N.NEW,this.plantillasDisponibles=[],this.piscinasDisponibles=[],this.nombreParametrosApi=[]}ngOnInit(){var p;this.llamarPlantillas(),this.llamarPiscinas(),this.llamarNombres(),(null===(p=this.data)||void 0===p?void 0:p.parameter.hasOwnProperty("id"))?(this.actionTODO=N.EDIT,this.data.title="Editar Parametro",this.pathFormData()):(this.paramForm.baseForm.markAsUntouched(),this.paramForm.baseForm.get("nombre").setValue(null),this.paramForm.baseForm.get("codigo").setValue(null),this.paramForm.baseForm.get("plantilla").setValue(null),this.paramForm.baseForm.get("piscina").setValue(null),this.paramForm.baseForm.updateValueAndValidity())}onChange(){}llamarNombres(){this.apiSvc.getAll().subscribe(p=>{this.nombreParametrosApi=Object.keys(p)})}llamarPlantillas(){this.templateSvc.getAll().subscribe(p=>{p.forEach(d=>{this.plantillasDisponibles.push(d)})})}llamarPiscinas(){this.poolService.getAll().subscribe(p=>{p.forEach(d=>{this.piscinasDisponibles.push(d)})})}onSaveTemplate(){var p,d;const x=this.paramForm.baseForm.value;if(this.actionTODO===N.NEW)this.paramSvc.new(x).subscribe(f=>{y().fire({position:"center",icon:"success",title:f.message,showConfirmButton:!1,timer:1500})});else{const f=null===(d=null===(p=this.data)||void 0===p?void 0:p.parameter)||void 0===d?void 0:d.id;this.paramSvc.update(f,x).subscribe(C=>{y().fire({position:"center",icon:"success",title:C.message,showConfirmButton:!1,timer:1e3})})}}pathFormData(){var p,d,x,f,C,M,T,k,W,K;this.paramForm.baseForm.patchValue({codigo:null===(d=null===(p=this.data)||void 0===p?void 0:p.parameter)||void 0===d?void 0:d.codigo,nombre:null===(f=null===(x=this.data)||void 0===x?void 0:x.parameter)||void 0===f?void 0:f.nombre,plantilla:null===(T=null===(M=null===(C=this.data)||void 0===C?void 0:C.parameter)||void 0===M?void 0:M.plantilla)||void 0===T?void 0:T.id,piscina:null===(K=null===(W=null===(k=this.data)||void 0===k?void 0:k.parameter)||void 0===W?void 0:W.piscina)||void 0===K?void 0:K.id})}checkField(p){return this.paramForm.isValidField(p)}}return v.\u0275fac=function(p){return new(p||v)(o.Y36(F.WI),o.Y36(V.y),o.Y36(u.E),o.Y36(j.q),o.Y36(b),o.Y36(it.s))},v.\u0275cmp=o.Xpm({type:v,selectors:[["app-modal-parameter"]],decls:28,vars:7,consts:[["mat-dialog-title",""],[1,"modal-form"],[3,"formGroup"],[1,"full-width-input"],["formControlName","codigo","matInput","","placeholder","codigo","required",""],[4,"ngIf"],["appearance","fill",1,"full-width-input"],["formControlName","nombre","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","plantilla","required",""],["formControlName","piscina","required",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"mat-dialog-close","click"],[3,"value"]],template:function(p,d){1&p&&(o.TgZ(0,"h2",0),o._uU(1),o.qZA(),o.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"form",2)(5,"mat-form-field",3),o._UZ(6,"input",4),o.YNc(7,mt,2,1,"mat-error",5),o.qZA(),o.TgZ(8,"mat-form-field",6)(9,"mat-label"),o._uU(10,"nombre"),o.qZA(),o.TgZ(11,"mat-select",7),o.YNc(12,ft,2,2,"mat-option",8),o.qZA()(),o.TgZ(13,"mat-form-field",6)(14,"mat-label"),o._uU(15,"Plantillas"),o.qZA(),o.TgZ(16,"mat-select",9),o.YNc(17,ht,2,2,"mat-option",8),o.qZA()(),o.TgZ(18,"mat-form-field",6)(19,"mat-label"),o._uU(20,"Piscinas"),o.qZA(),o.TgZ(21,"mat-select",10),o.YNc(22,pt,2,2,"mat-option",8),o.qZA()()()()(),o.TgZ(23,"mat-dialog-actions",11)(24,"button",12),o._uU(25,"Cancelar "),o.qZA(),o.TgZ(26,"button",13),o.NdJ("click",function(){return d.onSaveTemplate()}),o._uU(27," Guardar "),o.qZA()()),2&p&&(o.xp6(1),o.hij(" ",null==d.data?null:d.data.title,""),o.xp6(3),o.Q6J("formGroup",d.paramForm.baseForm),o.xp6(3),o.Q6J("ngIf",d.checkField("codigo")),o.xp6(5),o.Q6J("ngForOf",d.nombreParametrosApi),o.xp6(5),o.Q6J("ngForOf",d.plantillasDisponibles),o.xp6(5),o.Q6J("ngForOf",d.piscinasDisponibles),o.xp6(4),o.Q6J("mat-dialog-close",!0))},directives:[F.uh,F.xY,P._Y,P.JL,P.sg,$.KE,P.Fj,z.Nt,P.JJ,P.u,P.Q7,w.O5,$.TO,$.hX,J.gD,w.sg,rt.ey,F.H8,at.lW,F.ZT],styles:[".modal-form[_ngcontent-%COMP%]{padding:1rem 0}.full-width-input[_ngcontent-%COMP%]{width:100%}"]}),v})();function nt(v,h){if(1&v&&(o.TgZ(0,"mat-option",23),o._uU(1),o.qZA()),2&v){const p=h.$implicit;o.Q6J("value",p),o.xp6(1),o.Oqu(p)}}function st(v,h){1&v&&(o.TgZ(0,"th",24),o._uU(1," No. "),o.qZA())}function Q(v,h){if(1&v&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&v){const p=h.index;o.xp6(1),o.hij(" ",p+1," ")}}function At(v,h){1&v&&(o.TgZ(0,"th",26),o._uU(1," Codigo "),o.qZA())}function Ct(v,h){if(1&v&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&v){const p=h.$implicit;o.xp6(1),o.hij(" ",p.codigo," ")}}function _t(v,h){1&v&&(o.TgZ(0,"th",27),o._uU(1," Nombre "),o.qZA())}function bt(v,h){if(1&v&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&v){const p=h.$implicit;o.xp6(1),o.hij(" ",p.nombre," ")}}function wt(v,h){1&v&&(o.TgZ(0,"th",28),o._uU(1," Plantilla "),o.qZA())}function Ft(v,h){if(1&v&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&v){const p=h.$implicit;o.xp6(1),o.hij(" ",p.plantilla.codigo," ")}}function Dt(v,h){1&v&&(o.TgZ(0,"th",29),o._uU(1," Piscina "),o.qZA())}function Mt(v,h){if(1&v&&(o.TgZ(0,"td",25),o._uU(1),o.qZA()),2&v){const p=h.$implicit;o.xp6(1),o.hij(" ",p.piscina.codigo," ")}}function xt(v,h){1&v&&(o.TgZ(0,"th",30),o._uU(1," Acciones "),o.qZA())}function St(v,h){if(1&v){const p=o.EpF();o.TgZ(0,"td",25)(1,"div",0)(2,"button",31),o.NdJ("click",function(){const f=o.CHM(p).$implicit;return o.oxw().onOpenModalParameter(f)}),o._uU(3,"Editar"),o.qZA(),o.TgZ(4,"button",32),o.NdJ("click",function(){const f=o.CHM(p).$implicit;return o.oxw().onDeleteParam(f.id)}),o._uU(5,"Eliminar"),o.qZA()()()}}function Et(v,h){1&v&&o._UZ(0,"tr",33)}function tt(v,h){1&v&&o._UZ(0,"tr",34)}const lt=[{path:"",component:(()=>{class v{constructor(p,d,x){this.poolService=p,this.parameterSvc=d,this._dialog=x,this.displayedColumns=["id","codigo","nombre","plantilla","piscina","acciones"],this.dataSource=new S.by,this.destroy$=new L.x,this.piscinas=[],this.selectedPool=null}ngOnDestroy(){this.destroy$.next({}),this.destroy$.complete()}getPiscinas(){this.poolService.getAll().subscribe(p=>{p.forEach(d=>{this.piscinas.push(d.codigo)}),this.piscinas.push("TODOS")})}filterParamByPool(){"TODOS"===this.selectedPool?this.loadParameters():this.parameterSvc.getByPool(this.selectedPool).subscribe(p=>{this.dataSource.data=p},p=>{y().fire({icon:"error",title:"Oops...",text:p.error.message})})}loadParameters(){this.parameterSvc.getAll().subscribe(p=>{this.dataSource.data=p})}ngOnInit(){this.loadParameters(),this.getPiscinas()}ngAfterViewInit(){this.dataSource.sort=this.sort}onDeleteParam(p){y().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir el cambio",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1S\xed, eliminar!"}).then(d=>{d.isConfirmed&&this.parameterSvc.delete(p).pipe((0,R.R)(this.destroy$)).subscribe(x=>{y().fire("\xa1Eliminado!",null==x?void 0:x.message,"success"),this.loadParameters()})})}onOpenModalParameter(p={}){this._dialog.open(X,{height:"400px",width:"600px",data:{title:"Nuevo Parametro",parameter:p}}).afterClosed().subscribe(d=>{this.loadParameters()})}}return v.\u0275fac=function(p){return new(p||v)(o.Y36(j.q),o.Y36(V.y),o.Y36(F.uw))},v.\u0275cmp=o.Xpm({type:v,selectors:[["app-parameters"]],viewQuery:function(p,d){if(1&p&&o.Gf(l.YE,5),2&p){let x;o.iGM(x=o.CRH())&&(d.sort=x.first)}},decls:32,vars:6,consts:[[1,"table-button-row"],["mat-flat-button","","color","primary",1,"btn-new",3,"click"],["appearance","fill"],["name","pool",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",1,"btn-new",3,"disabled","click"],[1,"tableScroll"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by id",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","codigo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by codigo",4,"matHeaderCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre",4,"matHeaderCellDef"],["matColumnDef","plantilla"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by plantilla",4,"matHeaderCellDef"],["matColumnDef","piscina"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by piscina",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by id"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by codigo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by plantilla"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by piscina"],["mat-header-cell","","mat-sort-header",""],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(p,d){1&p&&(o.TgZ(0,"div",0)(1,"button",1),o.NdJ("click",function(){return d.onOpenModalParameter()}),o._uU(2,"Agregar Parametro"),o.qZA(),o.TgZ(3,"mat-form-field",2)(4,"mat-label"),o._uU(5,"Piscinas"),o.qZA(),o.TgZ(6,"mat-select",3),o.NdJ("ngModelChange",function(f){return d.selectedPool=f}),o.YNc(7,nt,2,2,"mat-option",4),o.qZA()(),o.TgZ(8,"button",5),o.NdJ("click",function(){return d.filterParamByPool()}),o._uU(9,"FILTRAR"),o.qZA()(),o.TgZ(10,"div",6)(11,"table",7),o.ynx(12,8),o.YNc(13,st,2,0,"th",9),o.YNc(14,Q,2,1,"td",10),o.BQk(),o.ynx(15,11),o.YNc(16,At,2,0,"th",12),o.YNc(17,Ct,2,1,"td",10),o.BQk(),o.ynx(18,13),o.YNc(19,_t,2,0,"th",14),o.YNc(20,bt,2,1,"td",10),o.BQk(),o.ynx(21,15),o.YNc(22,wt,2,0,"th",16),o.YNc(23,Ft,2,1,"td",10),o.BQk(),o.ynx(24,17),o.YNc(25,Dt,2,0,"th",18),o.YNc(26,Mt,2,1,"td",10),o.BQk(),o.ynx(27,19),o.YNc(28,xt,2,0,"th",20),o.YNc(29,St,6,0,"td",10),o.BQk(),o.YNc(30,Et,1,0,"tr",21),o.YNc(31,tt,1,0,"tr",22),o.qZA()()),2&p&&(o.xp6(6),o.Q6J("ngModel",d.selectedPool),o.xp6(1),o.Q6J("ngForOf",d.piscinas),o.xp6(1),o.Q6J("disabled",!d.selectedPool),o.xp6(3),o.Q6J("dataSource",d.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",d.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",d.displayedColumns))},directives:[at.lW,$.KE,$.hX,J.gD,P.JJ,P.On,w.sg,rt.ey,S.BZ,l.YE,S.w1,S.fO,S.ge,l.nU,S.Dz,S.ev,S.as,S.XQ,S.nj,S.Gk],styles:["table[_ngcontent-%COMP%]{width:97%;margin:0 auto;margin-top:1rem}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}.btn-new[_ngcontent-%COMP%]{width:20%}.tableScroll[_ngcontent-%COMP%]{height:500px;max-width:97%;overflow:auto;margin:0 auto;margin-top:1rem}"]}),v})()}];let yt=(()=>{class v{}return v.\u0275fac=function(p){return new(p||v)},v.\u0275mod=o.oAB({type:v}),v.\u0275inj=o.cJS({imports:[[O.Bz.forChild(lt)],O.Bz]}),v})();var Gt=m(520),Ot=m(4169);let Lt=(()=>{class v{}return v.\u0275fac=function(p){return new(p||v)},v.\u0275mod=o.oAB({type:v}),v.\u0275inj=o.cJS({imports:[[w.ez,yt,Ot.q,Gt.JF,P.UX,F.Is,J.LD,z.c,P.u5]]}),v})()},7154:(ct,Z,m)=>{m.d(Z,{s:()=>R});var w=m(2340),O=m(2843),l=m(262),S=m(5e3),L=m(520);let R=(()=>{class F{constructor(y){this.http=y}handlerError(y){let o="Error desconocido";return y&&(o=`Error ${y.message}`),window.alert(o),(0,O._)(o)}getAll(){return this.http.get(`${w.N.BASE_URL}/api`).pipe((0,l.K)(this.handlerError))}}return F.\u0275fac=function(y){return new(y||F)(S.LFG(L.eN))},F.\u0275prov=S.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},5402:(ct,Z,m)=>{m.d(Z,{y:()=>R});var w=m(262),O=m(2843),l=m(2340),S=m(5e3),L=m(520);let R=(()=>{class F{constructor(y){this.http=y}getAll(){return this.http.get(`${l.N.BASE_URL}/parameter`).pipe((0,w.K)(this.handlerError))}getByPool(y){return this.http.get(`${l.N.BASE_URL}/parameter/byPool/${y}`)}getByParam(y){return this.http.get(`${l.N.BASE_URL}/parameter/${y}`).pipe((0,w.K)(this.handlerError))}new(y){return this.http.post(`${l.N.BASE_URL}/parameter`,y).pipe((0,w.K)(this.handlerError))}newCensus(y,o){return this.http.get(`${l.N.BASE_URL}/parameter/census/${y}/${o}`).pipe((0,w.K)(this.handlerError))}update(y,o){return this.http.patch(`${l.N.BASE_URL}/parameter/${y}`,o).pipe((0,w.K)(this.handlerError))}delete(y){return this.http.delete(`${l.N.BASE_URL}/parameter/${y}`).pipe((0,w.K)(this.handlerError))}handlerError(y){let o="Error desconocido";return y&&(o=`Error ${y.message}`),window.alert(o),(0,O._)(o)}}return F.\u0275fac=function(y){return new(y||F)(S.LFG(L.eN))},F.\u0275prov=S.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},7477:(ct,Z,m)=>{m.d(Z,{q:()=>R});var w=m(2340),O=m(262),l=m(2843),S=m(5e3),L=m(520);let R=(()=>{class F{constructor(y){this.http=y}getAll(){return this.http.get(`${w.N.BASE_URL}/pool`).pipe((0,O.K)(this.handlerError))}getByNameandPool(y,o){return this.http.get(`${w.N.BASE_URL}/pool/${y}/${o}`)}new(y){return this.http.post(`${w.N.BASE_URL}/pool`,y).pipe((0,O.K)(this.handlerError))}update(y,o){return this.http.patch(`${w.N.BASE_URL}/pool/${y}`,o).pipe((0,O.K)(this.handlerError))}delete(y){return this.http.delete(`${w.N.BASE_URL}/pool/${y}`).pipe((0,O.K)(this.handlerError))}handlerError(y){let o="Error desconocido";return y&&(o=`Error ${y.message}`),window.alert(o),(0,l._)(o)}}return F.\u0275fac=function(y){return new(y||F)(S.LFG(L.eN))},F.\u0275prov=S.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},2119:(ct,Z,m)=>{m.d(Z,{E:()=>R});var w=m(262),O=m(2843),l=m(2340),S=m(5e3),L=m(520);let R=(()=>{class F{constructor(y){this.http=y}getAll(){return this.http.get(`${l.N.BASE_URL}/template`).pipe((0,w.K)(this.handlerError))}getById(y){return this.http.get(`${l.N.BASE_URL}/template/${y}`)}getByName(y){return this.http.get(`${l.N.BASE_URL}/template/byName/${y}`)}getTemplateByPool(y){return this.http.get(`${l.N.BASE_URL}/template/byPool/${y}`)}new(y){return this.http.post(`${l.N.BASE_URL}/template`,y).pipe((0,w.K)(this.handlerError))}update(y,o){return this.http.patch(`${l.N.BASE_URL}/template/${y}`,o).pipe((0,w.K)(this.handlerError))}delete(y){return this.http.delete(`${l.N.BASE_URL}/template/${y}`).pipe((0,w.K)(this.handlerError))}handlerError(y){let o="Error desconocido";return y&&(o=`Error ${y.message}`),window.alert(o),(0,O._)(o)}}return F.\u0275fac=function(y){return new(y||F)(S.LFG(L.eN))},F.\u0275prov=S.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},1058:(ct,Z,m)=>{m.d(Z,{K:()=>R});var w=m(2843),O=m(2340),l=m(262),S=m(5e3),L=m(520);let R=(()=>{class F{constructor(y){this.http=y}getAll(){return this.http.get(`${O.N.BASE_URL}/user`).pipe((0,l.K)(this.handlerError))}getById(y){return this.http.get(`${O.N.BASE_URL}/user/${y}`)}new(y){return this.http.post(`${O.N.BASE_URL}/user`,y)}update(y,o){return this.http.patch(`${O.N.BASE_URL}/user/${y}`,o)}delete(y){return this.http.delete(`${O.N.BASE_URL}/user/${y}`).pipe((0,l.K)(this.handlerError))}handlerError(y){let o="Error desconocido";return y&&(o=`Error ${y.message}`),window.alert(o),(0,w._)(o)}}return F.\u0275fac=function(y){return new(y||F)(S.LFG(L.eN))},F.\u0275prov=S.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},1570:(ct,Z,m)=>{m.r(Z),m.d(Z,{TemplateModule:()=>v});var w=m(9808),O=m(520),l=m(4169),S=m(1083),L=m(4847),R=m(8279),F=m(7579),a=m(2722),y=m(8966),o=m(5226),V=m.n(o),u=m(5e3),j=m(7154),P=m(2119),b=m(3075);let it=(()=>{class h{constructor(d){this.fb=d,this._isNumber=/^([0-9])*$/,this.errorMessage=null,this.baseForm=this.fb.group({codigo:["",[b.kI.required,b.kI.minLength(6)]],nombre:["",[b.kI.required,b.kI.minLength(2)]],valor_maximo:["",[b.kI.required,b.kI.pattern(this._isNumber)]],valor_minimo:["",[b.kI.required,b.kI.pattern(this._isNumber)]]})}isValidField(d){var x,f,C;return this.getErrorMessage(d),((null===(x=this.baseForm.get(d))||void 0===x?void 0:x.touched)||(null===(f=this.baseForm.get(d))||void 0===f?void 0:f.dirty))&&!(null===(C=this.baseForm.get(d))||void 0===C?void 0:C.valid)}getErrorMessage(d){var x;const{errors:f}=this.baseForm.get(d);if(f){const M={required:"Campo requerido",pattern:"Debe ingresar un numero",minLength:`Debe tener minimo ${null===(x=null==f?void 0:f.minlength)||void 0===x?void 0:x.requiredLength} caracteres`},T=Object.keys(f).find(Boolean);this.errorMessage=M[T]}}}return h.\u0275fac=function(d){return new(d||h)(u.LFG(b.qu))},h.\u0275prov=u.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();var $=m(7322),z=m(7531),J=m(4107),rt=m(508),at=m(7423);function mt(h,p){if(1&h&&(u.TgZ(0,"mat-error"),u._uU(1),u.qZA()),2&h){const d=u.oxw();u.xp6(1),u.hij(" ",d.templateForm.errorMessage," ")}}function ft(h,p){if(1&h&&(u.TgZ(0,"mat-option",14),u._uU(1),u.qZA()),2&h){const d=p.$implicit;u.Q6J("value",d),u.xp6(1),u.Oqu(d)}}function ht(h,p){if(1&h&&(u.TgZ(0,"mat-error"),u._uU(1),u.qZA()),2&h){const d=u.oxw();u.xp6(1),u.hij(" ",d.templateForm.errorMessage," ")}}function pt(h,p){if(1&h&&(u.TgZ(0,"mat-error"),u._uU(1),u.qZA()),2&h){const d=u.oxw();u.xp6(1),u.hij(" ",d.templateForm.errorMessage," ")}}var N=(()=>{return(h=N||(N={})).EDIT="edit",h.NEW="new",N;var h})();let X=(()=>{class h{constructor(d,x,f,C){this.data=d,this.apiSvc=x,this.templateSvc=f,this.templateForm=C,this.actionTODO=N.NEW,this.nombreParametrosApi=[]}ngOnInit(){var d;this.llamarNombres(),(null===(d=this.data)||void 0===d?void 0:d.template.hasOwnProperty("id"))?(this.actionTODO=N.EDIT,this.pathFormData(),this.data.title="Editar Plantilla"):(this.templateForm.baseForm.markAsUntouched(),this.templateForm.baseForm.get("nombre").setValue(null),this.templateForm.baseForm.get("codigo").setValue(null),this.templateForm.baseForm.get("valor_maximo").setValue(null),this.templateForm.baseForm.get("valor_minimo").setValue(null),this.templateForm.baseForm.updateValueAndValidity())}llamarNombres(){this.apiSvc.getAll().subscribe(d=>{this.nombreParametrosApi=Object.keys(d)})}onSaveTemplate(){var d,x;const f=this.templateForm.baseForm.value;if(this.actionTODO===N.NEW)this.templateSvc.new(f).subscribe(C=>{V().fire({position:"center",icon:"success",title:C.message,showConfirmButton:!1,timer:1500})});else{const C=null===(x=null===(d=this.data)||void 0===d?void 0:d.template)||void 0===x?void 0:x.id;this.templateSvc.update(C,f).subscribe(M=>{V().fire({position:"center",icon:"success",title:M.message,showConfirmButton:!1,timer:1e3})})}}checkField(d){return this.templateForm.isValidField(d)}pathFormData(){var d,x,f,C,M,T,k,W,K,ot;this.templateForm.baseForm.patchValue({codigo:null===(x=null===(d=this.data)||void 0===d?void 0:d.template)||void 0===x?void 0:x.codigo,nombre:null===(C=null===(f=this.data)||void 0===f?void 0:f.template)||void 0===C?void 0:C.nombre,parametros:null===(T=null===(M=this.data)||void 0===M?void 0:M.template)||void 0===T?void 0:T.parametros,valor_maximo:null===(W=null===(k=this.data)||void 0===k?void 0:k.template)||void 0===W?void 0:W.valor_maximo,valor_minimo:null===(ot=null===(K=this.data)||void 0===K?void 0:K.template)||void 0===ot?void 0:ot.valor_minimo})}}return h.\u0275fac=function(d){return new(d||h)(u.Y36(y.WI),u.Y36(j.s),u.Y36(P.E),u.Y36(it))},h.\u0275cmp=u.Xpm({type:h,selectors:[["app-modal-template"]],decls:24,vars:7,consts:[["mat-dialog-title",""],[1,"modal-form"],[3,"formGroup"],[1,"full-width-input"],["formControlName","codigo","matInput","","placeholder","codigo","required",""],[4,"ngIf"],["appearance","fill",1,"full-width-input"],["formControlName","nombre","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","valor_maximo","matInput","","placeholder","valor maximo","required",""],["formControlName","valor_minimo","matInput","","placeholder","valor minimo","required",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"mat-dialog-close","click"],[3,"value"]],template:function(d,x){1&d&&(u.TgZ(0,"h2",0),u._uU(1),u.qZA(),u.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"form",2)(5,"mat-form-field",3),u._UZ(6,"input",4),u.YNc(7,mt,2,1,"mat-error",5),u.qZA(),u.TgZ(8,"mat-form-field",6)(9,"mat-label"),u._uU(10,"nombre"),u.qZA(),u.TgZ(11,"mat-select",7),u.YNc(12,ft,2,2,"mat-option",8),u.qZA()(),u.TgZ(13,"mat-form-field",3),u._UZ(14,"input",9),u.YNc(15,ht,2,1,"mat-error",5),u.qZA(),u.TgZ(16,"mat-form-field",3),u._UZ(17,"input",10),u.YNc(18,pt,2,1,"mat-error",5),u.qZA()()()(),u.TgZ(19,"mat-dialog-actions",11)(20,"button",12),u._uU(21,"Cancelar "),u.qZA(),u.TgZ(22,"button",13),u.NdJ("click",function(){return x.onSaveTemplate()}),u._uU(23," Guardar "),u.qZA()()),2&d&&(u.xp6(1),u.hij(" ",null==x.data?null:x.data.title,""),u.xp6(3),u.Q6J("formGroup",x.templateForm.baseForm),u.xp6(3),u.Q6J("ngIf",x.checkField("codigo")),u.xp6(5),u.Q6J("ngForOf",x.nombreParametrosApi),u.xp6(3),u.Q6J("ngIf",x.checkField("valor_maximo")),u.xp6(3),u.Q6J("ngIf",x.checkField("valor_minimo")),u.xp6(4),u.Q6J("mat-dialog-close",!0))},directives:[y.uh,y.xY,b._Y,b.JL,b.sg,$.KE,b.Fj,z.Nt,b.JJ,b.u,b.Q7,w.O5,$.TO,$.hX,J.gD,w.sg,rt.ey,y.H8,at.lW,y.ZT],styles:[".modal-form[_ngcontent-%COMP%]{padding:1rem 0}.full-width-input[_ngcontent-%COMP%]{width:100%}"]}),h})();function nt(h,p){if(1&h&&(u.TgZ(0,"mat-option",24),u._uU(1),u.qZA()),2&h){const d=p.$implicit;u.Q6J("value",d),u.xp6(1),u.Oqu(d)}}function st(h,p){1&h&&(u.TgZ(0,"th",25),u._uU(1," No. "),u.qZA())}function Q(h,p){if(1&h&&(u.TgZ(0,"td",26),u._uU(1),u.qZA()),2&h){const d=p.index;u.xp6(1),u.hij(" ",d+1," ")}}function At(h,p){1&h&&(u.TgZ(0,"th",27),u._uU(1," Codigo "),u.qZA())}function Ct(h,p){if(1&h&&(u.TgZ(0,"td",26),u._uU(1),u.qZA()),2&h){const d=p.$implicit;u.xp6(1),u.hij(" ",d.codigo," ")}}function _t(h,p){1&h&&(u.TgZ(0,"th",28),u._uU(1," Nombre "),u.qZA())}function bt(h,p){if(1&h&&(u.TgZ(0,"td",26),u._uU(1),u.qZA()),2&h){const d=p.$implicit;u.xp6(1),u.hij(" ",d.nombre," ")}}function wt(h,p){1&h&&(u.TgZ(0,"th",29),u._uU(1," Parametros "),u.qZA())}function Ft(h,p){if(1&h&&(u.TgZ(0,"mat-option"),u._uU(1),u.qZA()),2&h){const d=p.$implicit;u.xp6(1),u.Oqu(d.codigo)}}function Dt(h,p){if(1&h&&(u.TgZ(0,"td",26)(1,"mat-dialog-content")(2,"div",30)(3,"mat-form-field",31)(4,"mat-label"),u._uU(5,"Codigo"),u.qZA(),u.TgZ(6,"mat-select"),u.YNc(7,Ft,2,1,"mat-option",32),u.qZA()()()()()),2&h){const d=p.$implicit;u.xp6(7),u.Q6J("ngForOf",d.parametros)}}function Mt(h,p){1&h&&(u.TgZ(0,"th",33),u._uU(1," Valor-Maximo "),u.qZA())}function xt(h,p){if(1&h&&(u.TgZ(0,"td",26),u._uU(1),u.qZA()),2&h){const d=p.$implicit;u.xp6(1),u.hij(" ",d.valor_maximo," ")}}function St(h,p){1&h&&(u.TgZ(0,"th",34),u._uU(1," Valor-Minimo "),u.qZA())}function Et(h,p){if(1&h&&(u.TgZ(0,"td",26),u._uU(1),u.qZA()),2&h){const d=p.$implicit;u.xp6(1),u.hij(" ",d.valor_minimo," ")}}function tt(h,p){1&h&&(u.TgZ(0,"th",29),u._uU(1," Acciones "),u.qZA())}function Tt(h,p){if(1&h){const d=u.EpF();u.TgZ(0,"td",26)(1,"div",0)(2,"button",35),u.NdJ("click",function(){const C=u.CHM(d).$implicit;return u.oxw().onOpenModalTemplate(C)}),u._uU(3,"Editar"),u.qZA(),u.TgZ(4,"button",36),u.NdJ("click",function(){const C=u.CHM(d).$implicit;return u.oxw().onDeleteTemplate(C.id)}),u._uU(5,"Eliminar"),u.qZA()()()}}function lt(h,p){1&h&&u._UZ(0,"tr",37)}function yt(h,p){1&h&&u._UZ(0,"tr",38)}const Ot=[{path:"",component:(()=>{class h{constructor(d,x,f){this.templateSvc=d,this._dialog=x,this.apiSvc=f,this.displayedColumns=["id","nombre","codigo","verParametros","valor_maximo","valor_minimo","acciones"],this.dataSource=new R.by,this.destroy$=new F.x,this.selectedParam=null,this.parametrosApi=[]}loadTemplates(){this.templateSvc.getAll().subscribe(d=>{this.dataSource.data=d})}loadParamsApi(){this.apiSvc.getAll().subscribe(d=>{let x=Object.keys(d);this.parametrosApi.push(x),this.parametrosApi[0].push("TODOS")})}ngOnDestroy(){this.destroy$.next({}),this.destroy$.complete()}ngOnInit(){this.loadTemplates(),this.loadParamsApi()}filterParam(){"TODOS"===this.selectedParam?this.loadTemplates():this.templateSvc.getByName(this.selectedParam).subscribe(d=>{this.dataSource.data=d})}ngAfterViewInit(){this.dataSource.sort=this.sort}onDeleteTemplate(d){V().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir el cambio",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1S\xed, eliminar!"}).then(x=>{x.isConfirmed&&this.templateSvc.delete(d).pipe((0,a.R)(this.destroy$)).subscribe(f=>{V().fire("\xa1Eliminado!",null==f?void 0:f.message,"success"),this.loadTemplates()})})}onOpenModalTemplate(d={}){this._dialog.open(X,{height:"400px",width:"600px",data:{title:"Nuevo Parametro",template:d}}).afterClosed().subscribe(x=>{this.loadTemplates()})}}return h.\u0275fac=function(d){return new(d||h)(u.Y36(P.E),u.Y36(y.uw),u.Y36(j.s))},h.\u0275cmp=u.Xpm({type:h,selectors:[["app-template"]],viewQuery:function(d,x){if(1&d&&u.Gf(L.YE,5),2&d){let f;u.iGM(f=u.CRH())&&(x.sort=f.first)}},decls:35,vars:6,consts:[[1,"table-button-row"],["mat-flat-button","","color","primary",1,"btn-new",3,"click"],["appearance","fill"],["name","param",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",1,"btn-new",3,"disabled","click"],[1,"tableScroll"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by id",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","codigo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by codigo",4,"matHeaderCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre",4,"matHeaderCellDef"],["matColumnDef","verParametros"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","valor_maximo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by valor_maximo",4,"matHeaderCellDef"],["matColumnDef","valor_minimo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by valor_minimo",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by id"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by codigo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre"],["mat-header-cell","","mat-sort-header",""],[1,"modal-form"],[1,"full-width-input"],[4,"ngFor","ngForOf"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by valor_maximo"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by valor_minimo"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(d,x){1&d&&(u.TgZ(0,"div",0)(1,"button",1),u.NdJ("click",function(){return x.onOpenModalTemplate()}),u._uU(2,"Agregar Plantilla"),u.qZA(),u.TgZ(3,"mat-form-field",2)(4,"mat-label"),u._uU(5,"Parametros"),u.qZA(),u.TgZ(6,"mat-select",3),u.NdJ("ngModelChange",function(C){return x.selectedParam=C}),u.YNc(7,nt,2,2,"mat-option",4),u.qZA()(),u.TgZ(8,"button",5),u.NdJ("click",function(){return x.filterParam()}),u._uU(9,"FILTRAR"),u.qZA()(),u.TgZ(10,"div",6)(11,"table",7),u.ynx(12,8),u.YNc(13,st,2,0,"th",9),u.YNc(14,Q,2,1,"td",10),u.BQk(),u.ynx(15,11),u.YNc(16,At,2,0,"th",12),u.YNc(17,Ct,2,1,"td",10),u.BQk(),u.ynx(18,13),u.YNc(19,_t,2,0,"th",14),u.YNc(20,bt,2,1,"td",10),u.BQk(),u.ynx(21,15),u.YNc(22,wt,2,0,"th",16),u.YNc(23,Dt,8,1,"td",10),u.BQk(),u.ynx(24,17),u.YNc(25,Mt,2,0,"th",18),u.YNc(26,xt,2,1,"td",10),u.BQk(),u.ynx(27,19),u.YNc(28,St,2,0,"th",20),u.YNc(29,Et,2,1,"td",10),u.BQk(),u.ynx(30,21),u.YNc(31,tt,2,0,"th",16),u.YNc(32,Tt,6,0,"td",10),u.BQk(),u.YNc(33,lt,1,0,"tr",22),u.YNc(34,yt,1,0,"tr",23),u.qZA()()),2&d&&(u.xp6(6),u.Q6J("ngModel",x.selectedParam),u.xp6(1),u.Q6J("ngForOf",x.parametrosApi[0]),u.xp6(1),u.Q6J("disabled",!x.selectedParam),u.xp6(3),u.Q6J("dataSource",x.dataSource),u.xp6(22),u.Q6J("matHeaderRowDef",x.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",x.displayedColumns))},directives:[at.lW,$.KE,$.hX,J.gD,b.JJ,b.On,w.sg,rt.ey,R.BZ,L.YE,R.w1,R.fO,R.ge,L.nU,R.Dz,R.ev,y.xY,R.as,R.XQ,R.nj,R.Gk],styles:["table[_ngcontent-%COMP%]{width:97%;margin:0 auto;overflow:auto;margin-top:1rem}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}.btn-new[_ngcontent-%COMP%]{width:20%}.tableScroll[_ngcontent-%COMP%]{height:500px;max-width:97%;overflow:auto;margin:0 auto;margin-top:1rem}"]}),h})()},{path:"template",loadChildren:()=>Promise.resolve().then(m.bind(m,1570)).then(h=>h.TemplateModule)}];let Lt=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[S.Bz.forChild(Ot)],S.Bz]}),h})(),v=(()=>{class h{}return h.\u0275fac=function(d){return new(d||h)},h.\u0275mod=u.oAB({type:h}),h.\u0275inj=u.cJS({imports:[[w.ez,Lt,l.q,O.JF,b.UX,l.q,y.Is,J.LD,b.u5]]}),h})()},5007:(ct,Z,m)=>{m.r(Z),m.d(Z,{UsersModule:()=>p});var w=m(9808),O=m(1083),l=m(4847),S=m(8279),L=m(8966),R=m(5226),F=m.n(R),a=m(5e3),y=m(357),o=m(1058),V=m(7477),u=m(3075),j=m(7322),P=m(7531),b=m(7423),it=m(5245),$=m(4107),z=m(508);function J(d,x){if(1&d&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&d){const f=a.oxw();a.xp6(1),a.hij(" ",f.userForm.errorMessage," ")}}function rt(d,x){if(1&d&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&d){const f=a.oxw();a.xp6(1),a.hij(" ",f.userForm.errorMessage," ")}}function at(d,x){if(1&d&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&d){const f=a.oxw(2);a.xp6(1),a.hij(" ",f.userForm.errorMessage," ")}}function mt(d,x){if(1&d){const f=a.EpF();a.TgZ(0,"mat-form-field",3),a._UZ(1,"input",14),a.TgZ(2,"button",15),a.NdJ("click",function(){a.CHM(f);const M=a.oxw();return M.hide=!M.hide}),a.TgZ(3,"mat-icon"),a._uU(4),a.qZA()(),a.YNc(5,at,2,1,"mat-error",5),a.qZA()}if(2&d){const f=a.oxw();a.xp6(1),a.Q6J("type",f.hide?"password":"text"),a.xp6(3),a.Oqu(f.hide?"visibility_off":"visibility"),a.xp6(1),a.Q6J("ngIf",f.checkField("clave"))}}function ft(d,x){if(1&d&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&d){const f=a.oxw();a.xp6(1),a.hij(" ",f.userForm.errorMessage," ")}}function ht(d,x){if(1&d&&(a.TgZ(0,"mat-option",18),a._uU(1),a.qZA()),2&d){const f=x.$implicit;a.Q6J("value",f.id),a.xp6(1),a.Oqu(f.codigo)}}function pt(d,x){if(1&d&&(a.TgZ(0,"mat-error"),a._uU(1),a.qZA()),2&d){const f=a.oxw(2);a.xp6(1),a.hij(" ",f.userForm.errorMessage," ")}}function N(d,x){if(1&d){const f=a.EpF();a.TgZ(0,"mat-form-field",3)(1,"mat-label"),a._uU(2,"Piscinas (operador*)"),a.qZA(),a.TgZ(3,"mat-select",16),a.NdJ("ngModelChange",function(M){return a.CHM(f),a.oxw().selected=M}),a.YNc(4,ht,2,2,"mat-option",17),a.qZA(),a.YNc(5,pt,2,1,"mat-error",5),a.qZA()}if(2&d){const f=a.oxw();a.xp6(3),a.Q6J("ngModel",f.selected),a.xp6(1),a.Q6J("ngForOf",f.piscinasDisponibles),a.xp6(1),a.Q6J("ngIf",f.checkField("piscinas"))}}var X=(()=>{return(d=X||(X={})).EDIT="edit",d.NEW="new",X;var d})();let nt=(()=>{class d{constructor(f,C,M,T){this.data=f,this.userForm=C,this.userSvc=M,this.poolSvc=T,this.actionTODO=X.NEW,this.showPasswordField=!0,this.showRole=!1,this.hide=!0,this.selected=[],this.piscinasDisponibles=[]}ngOnInit(){var f;this.llamarPiscinas(),(null===(f=this.data)||void 0===f?void 0:f.user.hasOwnProperty("id"))?(this.actionTODO=X.EDIT,this.pathFormData(),this.showPasswordField=!1,this.data.title="Editar Usuario",this.userForm.baseForm.get("clave").setValidators(null),this.userForm.baseForm.updateValueAndValidity()):(this.showRole=!0,this.userForm.baseForm.markAsUntouched(),this.userForm.baseForm.get("nombre").setValue(null),this.userForm.baseForm.get("clave").setValue(null),this.userForm.baseForm.get("email").setValue(null),this.userForm.baseForm.get("rol").setValue(null),this.userForm.baseForm.get("piscinas").setValue(null),this.userForm.baseForm.updateValueAndValidity())}llamarPiscinas(){this.poolSvc.getAll().subscribe(f=>{this.piscinasDisponibles=f,f.forEach(C=>{C.usuarios.forEach(M=>{var T,k;M.id===(null===(k=null===(T=this.data)||void 0===T?void 0:T.user)||void 0===k?void 0:k.id)&&this.selected.push(C.id)})})})}onSave(){var f,C;const M=this.userForm.baseForm.value;if(this.actionTODO===X.NEW)this.userSvc.new(M).subscribe(T=>{F().fire({position:"center",icon:"success",title:T.message,showConfirmButton:!1,timer:1500})},T=>{F().fire({icon:"error",title:"Oops...",text:T.error.message})});else{const T=null===(C=null===(f=this.data)||void 0===f?void 0:f.user)||void 0===C?void 0:C.id;this.userSvc.update(T,M).subscribe(k=>{F().fire({position:"center",icon:"success",title:k.message,showConfirmButton:!1,timer:1e3})},k=>{F().fire({icon:"error",title:"Oops...",text:k.error.message})})}}checkField(f){return this.userForm.isValidField(f)}pathFormData(){var f,C,M,T,k,W,K,ot;this.userForm.baseForm.patchValue({nombre:null===(C=null===(f=this.data)||void 0===f?void 0:f.user)||void 0===C?void 0:C.nombre,email:null===(T=null===(M=this.data)||void 0===M?void 0:M.user)||void 0===T?void 0:T.email,rol:null===(W=null===(k=this.data)||void 0===k?void 0:k.user)||void 0===W?void 0:W.rol,piscinas:null===(ot=null===(K=this.data)||void 0===K?void 0:K.user)||void 0===ot?void 0:ot.piscinas})}}return d.\u0275fac=function(f){return new(f||d)(a.Y36(L.WI),a.Y36(y.h),a.Y36(o.K),a.Y36(V.q))},d.\u0275cmp=a.Xpm({type:d,selectors:[["app-modal"]],decls:27,vars:9,consts:[["mat-dialog-title",""],[1,"modal-form"],[3,"formGroup"],[1,"full-width-input"],["formControlName","nombre","matInput","","placeholder","nombre","required",""],[4,"ngIf"],["formControlName","email","matInput","","placeholder","email","required",""],["class","full-width-input",4,"ngIf"],["formControlName","rol"],["value","supervisor"],["value","operador"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary","ckdFocusInitial","",3,"disabled","mat-dialog-close","click"],["formControlName","clave","matInput","","placeholder","clave","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["formControlName","piscinas","multiple","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(f,C){1&f&&(a.TgZ(0,"h2",0),a._uU(1),a.qZA(),a.TgZ(2,"mat-dialog-content")(3,"div",1)(4,"form",2)(5,"mat-form-field",3),a._UZ(6,"input",4),a.YNc(7,J,2,1,"mat-error",5),a.qZA(),a.TgZ(8,"mat-form-field",3),a._UZ(9,"input",6),a.YNc(10,rt,2,1,"mat-error",5),a.qZA(),a.YNc(11,mt,6,3,"mat-form-field",7),a.TgZ(12,"mat-form-field",3)(13,"mat-label"),a._uU(14,"Cargo"),a.qZA(),a.TgZ(15,"mat-select",8)(16,"mat-option",9),a._uU(17,"Supervisor"),a.qZA(),a.TgZ(18,"mat-option",10),a._uU(19,"Operador"),a.qZA()(),a.YNc(20,ft,2,1,"mat-error",5),a.qZA(),a.YNc(21,N,6,3,"mat-form-field",7),a.qZA()()(),a.TgZ(22,"mat-dialog-actions",11)(23,"button",12),a._uU(24,"Cancelar "),a.qZA(),a.TgZ(25,"button",13),a.NdJ("click",function(){return C.onSave()}),a._uU(26," Guardar "),a.qZA()()),2&f&&(a.xp6(1),a.hij(" ",null==C.data?null:C.data.title,""),a.xp6(3),a.Q6J("formGroup",C.userForm.baseForm),a.xp6(3),a.Q6J("ngIf",C.checkField("nombre")),a.xp6(3),a.Q6J("ngIf",C.checkField("email")),a.xp6(1),a.Q6J("ngIf",C.showPasswordField),a.xp6(9),a.Q6J("ngIf",C.checkField("rol")),a.xp6(1),a.Q6J("ngIf","operador"===(null==C.data||null==C.data.user?null:C.data.user.rol)||!0===C.showRole),a.xp6(4),a.Q6J("disabled",C.userForm.baseForm.invalid)("mat-dialog-close",!0))},directives:[L.uh,L.xY,u._Y,u.JL,u.sg,j.KE,u.Fj,P.Nt,u.JJ,u.u,u.Q7,w.O5,j.TO,b.lW,j.R9,it.Hw,j.hX,$.gD,z.ey,w.sg,L.H8,L.ZT],styles:[".modal-form[_ngcontent-%COMP%]{padding:1rem 0}.full-width-input[_ngcontent-%COMP%]{width:100%}"]}),d})();var st=m(7579),Q=m(2722);function At(d,x){1&d&&(a.TgZ(0,"th",18),a._uU(1," No. "),a.qZA())}function Ct(d,x){if(1&d&&(a.TgZ(0,"td",19),a._uU(1),a.qZA()),2&d){const f=x.index;a.xp6(1),a.hij(" ",f+1,"")}}function _t(d,x){1&d&&(a.TgZ(0,"th",20),a._uU(1," Rol "),a.qZA())}function bt(d,x){if(1&d&&(a.TgZ(0,"td",19),a._uU(1),a.qZA()),2&d){const f=x.$implicit;a.xp6(1),a.hij(" ",f.rol," ")}}function wt(d,x){1&d&&(a.TgZ(0,"th",21),a._uU(1," Nombre "),a.qZA())}function Ft(d,x){if(1&d&&(a.TgZ(0,"td",19),a._uU(1),a.qZA()),2&d){const f=x.$implicit;a.xp6(1),a.hij(" ",f.nombre," ")}}function Dt(d,x){1&d&&(a.TgZ(0,"th",22),a._uU(1," Email "),a.qZA())}function Mt(d,x){if(1&d&&(a.TgZ(0,"td",19),a._uU(1),a.qZA()),2&d){const f=x.$implicit;a.xp6(1),a.hij(" ",f.email," ")}}function xt(d,x){1&d&&(a.TgZ(0,"th",23),a._uU(1," Piscinas "),a.qZA())}function St(d,x){if(1&d&&(a.TgZ(0,"mat-option"),a._uU(1),a.qZA()),2&d){const f=x.$implicit;a.xp6(1),a.Oqu(f.codigo)}}function Et(d,x){if(1&d&&(a.TgZ(0,"td",19)(1,"mat-dialog-content")(2,"div",24)(3,"mat-form-field",25)(4,"mat-label"),a._uU(5,"Codigo"),a.qZA(),a.TgZ(6,"mat-select"),a.YNc(7,St,2,1,"mat-option",26),a.qZA()()()()()),2&d){const f=x.$implicit;a.xp6(7),a.Q6J("ngForOf",f.piscinas)}}function tt(d,x){1&d&&(a.TgZ(0,"th",23),a._uU(1," Acciones "),a.qZA())}function Tt(d,x){if(1&d){const f=a.EpF();a.TgZ(0,"td",19)(1,"div",0)(2,"button",27),a.NdJ("click",function(){const T=a.CHM(f).$implicit;return a.oxw().onOpenModal(T)}),a._uU(3,"Editar"),a.qZA(),a.TgZ(4,"button",28),a.NdJ("click",function(){const T=a.CHM(f).$implicit;return a.oxw().onDelete(T.id)}),a._uU(5,"Eliminar"),a.qZA()()()}}function lt(d,x){1&d&&a._UZ(0,"tr",29)}function yt(d,x){1&d&&a._UZ(0,"tr",30)}const Ot=[{path:"",component:(()=>{class d{constructor(f,C){this.userSvc=f,this._dialog=C,this.displayedColumns=["id","rol","nombre","email","piscinas","acciones"],this.dataSource=new S.by,this.destroy$=new st.x}loadUsers(){this.userSvc.getAll().subscribe(f=>{this.dataSource.data=f})}ngOnDestroy(){this.destroy$.next({}),this.destroy$.complete()}ngOnInit(){this.loadUsers()}ngAfterViewInit(){this.dataSource.sort=this.sort}onDelete(f){F().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir el cambio",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1S\xed, eliminar!"}).then(C=>{C.isConfirmed&&this.userSvc.delete(f).pipe((0,Q.R)(this.destroy$)).subscribe(M=>{F().fire("\xa1Eliminado!",null==M?void 0:M.message,"success"),this.loadUsers()})})}onOpenModal(f={}){this._dialog.open(nt,{height:"400px",width:"600px",data:{title:"Nuevo usuario",user:f},disableClose:!0}).afterClosed().subscribe(C=>{this.loadUsers()})}}return d.\u0275fac=function(f){return new(f||d)(a.Y36(o.K),a.Y36(L.uw))},d.\u0275cmp=a.Xpm({type:d,selectors:[["app-users"]],viewQuery:function(f,C){if(1&f&&a.Gf(l.YE,5),2&f){let M;a.iGM(M=a.CRH())&&(C.sort=M.first)}},decls:25,vars:3,consts:[[1,"table-button-row"],["mat-flat-button","","color","primary",1,"btn-new",3,"click"],[1,"tableScroll"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rol"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by rol",4,"matHeaderCellDef"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre",4,"matHeaderCellDef"],["matColumnDef","email"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by email",4,"matHeaderCellDef"],["matColumnDef","piscinas"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by number"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by rol"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by nombre"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by email"],["mat-header-cell","","mat-sort-header",""],[1,"modal-form"],[1,"full-width-input"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(f,C){1&f&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(){return C.onOpenModal()}),a._uU(2,"Agregar Usuario"),a.qZA()(),a.TgZ(3,"div",2)(4,"table",3),a.ynx(5,4),a.YNc(6,At,2,0,"th",5),a.YNc(7,Ct,2,1,"td",6),a.BQk(),a.ynx(8,7),a.YNc(9,_t,2,0,"th",8),a.YNc(10,bt,2,1,"td",6),a.BQk(),a.ynx(11,9),a.YNc(12,wt,2,0,"th",10),a.YNc(13,Ft,2,1,"td",6),a.BQk(),a.ynx(14,11),a.YNc(15,Dt,2,0,"th",12),a.YNc(16,Mt,2,1,"td",6),a.BQk(),a.ynx(17,13),a.YNc(18,xt,2,0,"th",14),a.YNc(19,Et,8,1,"td",6),a.BQk(),a.ynx(20,15),a.YNc(21,tt,2,0,"th",14),a.YNc(22,Tt,6,0,"td",6),a.BQk(),a.YNc(23,lt,1,0,"tr",16),a.YNc(24,yt,1,0,"tr",17),a.qZA()()),2&f&&(a.xp6(4),a.Q6J("dataSource",C.dataSource),a.xp6(19),a.Q6J("matHeaderRowDef",C.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",C.displayedColumns))},directives:[b.lW,S.BZ,l.YE,S.w1,S.fO,S.ge,l.nU,S.Dz,S.ev,L.xY,j.KE,j.hX,$.gD,w.sg,z.ey,S.as,S.XQ,S.nj,S.Gk],styles:["table[_ngcontent-%COMP%]{width:97%;margin:0 auto;margin-top:1rem}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}.table-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:12px}.btn-new[_ngcontent-%COMP%]{width:20%}.tableScroll[_ngcontent-%COMP%]{height:500px;max-width:97%;overflow:auto;margin:0 auto;margin-top:1rem}"]}),d})()}];let Lt=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[O.Bz.forChild(Ot)],O.Bz]}),d})();var v=m(520),h=m(4169);let p=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=a.oAB({type:d}),d.\u0275inj=a.cJS({imports:[[w.ez,Lt,h.q,v.JF,u.UX,h.q,L.Is,$.LD]]}),d})()}}]);